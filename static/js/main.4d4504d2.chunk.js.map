{"version":3,"sources":["redux/search/actionTypes.js","redux/search/tickets/reducers.js","redux/search/airports/reducers.js","redux/search/index.js","redux/user/actionTypes.js","redux/user/selectedFlight/reducers.js","redux/user/returnSelectedFlight/reducers.js","redux/user/reducers.js","redux/user/orders/actionTypes.js","redux/user/orders/reducers.js","redux/user/index.js","redux/data/actionTypes.js","redux/data/luggage-types/reducers.js","redux/data/index.js","redux/notifier/reducers.js","redux/configureStore.js","components/header/header-menu/button/index.js","components/header/header-menu/sidebar/index.js","redux/notifier/actions.js","urls.js","redux/user/actions.js","redux/search/tickets/actions.js","redux/user/selectedFlight/actions.js","redux/user/returnSelectedFlight/actions.js","redux/user/orders/actions.js","components/header/header-menu/login-menu/index.js","components/header/header-menu/menu/index.js","components/header/header-menu/index.js","components/header/index.js","components/header/material.style.js","components/flights-list/material.style.js","redux/search/airports/actions.js","components/flights-list/search-form/material.style.js","components/search/validate.js","components/date-picker/index.js","components/select/index.js","components/text-field/index.js","components/flights-list/search-form/index.js","components/flights-list/flights-list-items/index.js","components/flights-list/index.js","components/login/material.style.js","components/login/validate.js","components/login/index.js","components/register/material.style.js","components/register/validate.js","components/register/index.js","components/search/material.style.js","components/search/index.js","components/passengers-counters/index.js","redux/data/luggage-types/actions.js","components/passengers-list/expandable-panel/details/luggage/index.js","components/passengers-list/expandable-panel/details/index.js","components/passengers-list/expandable-panel/header/index.js","components/stepper/index.js","components/passengers-list/index.js","components/passengers-seats/passengers-seats-table/index.js","components/passengers-seats/plane/plane-seats/index.js","components/passengers-seats/plane/seats-signs/index.js","components/passengers-seats/plane/index.js","components/passengers-seats/index.js","components/order-details/index.js","components/payment/validate.js","components/payment/index.js","components/payment-success/index.js","components/orders-history/list-item/index.js","components/orders-history/index.js","auth-service.js","components/not-found/index.js","components/notifier/index.js","index.js"],"names":["keyMirror","AIRPORT_HAS_ERRORED","AIRPORT_FETCH_DATA_SUCCESS","TICKETS_IS_LOADING","TICKETS_HAS_ERRORED","TICKETS_FETCH_DATA_SUCCESS","TICKETS_RETURN_FETCH_DATA_SUCCESS","TICKETS_INFO_RESETTING","initialState","hasErrored","isLoading","departureItems","returnItems","items","combineReducers","tickets","state","arguments","length","undefined","action","type","actionTypes","Object","objectSpread","airports","USER_REQUEST","USER_SELECTED_FLIGHT_INFO","USER_RETURN_SELECTED_FLIGHT_INFO","USER_TOTAL_PRICE","PASSENGERS_INFO","RETURN_FLIGHT_PASSENGERS_INFO","SELECTED_PASSENGER","RETURN_FLIGHT_SELECTED_PASSENGER","RETURN_SELECTED_FLIGHT_INFO_RESETTING","USER_INFO_RESETTING","SELECTED_FLIGHT_INFO_RESETTING","IS_LOGGED_IN_USER","IS_REGISTERED_USER","PAYMENT_STATUS","TWO_WAY_REQUEST","id","passengersInfo","selectedPassenger","request","twoWayRequest","loggedInUser","paymentSuccess","FETCHED_USER_ORDERS","FETCHED_USER_ORDERS_ERRORED","ORDERS_INFO_RESETTING","ordersErrored","orders","selectedFlight","flightInfo","info","returnSelectedFlight","requestInfo","adult","child","infant","bool","ordersInfo","GET_LUGGAGE_TYPES","LUGGAGE_HAS_ERRORED","luggageTypes","luggage","defaultState","notifications","rootReducer","searchPage","user","data","concat","toConsumableArray","notification","filter","key","persistConfig","storage","persistedReducer","persistReducer","MenuButton","_ref","onClick","react_default","a","createElement","className","Menu_default","Overlay","isOpen","role","Sidebar","_ref2","hideSidebar","children","react","sidebar_Overlay","enqueueSnackbar","Date","getTime","Math","random","urls","sendOrderData","sendLoginFormData","sendRegisterFormData","checkAuthentication","paymentStatus","logInUser","authoriseUser","userInfo","url","firstName","dispatch","axios","post","then","response","token","localStorage","setItem","message","options","variant","catch","resetUserInfo","fetchDataSuccess","fetchReturnDataSuccess","ticketsFetchData","userRequest","from","to","departure","back","return","wayType","departureUrl","backUrl","name","date","forEach","fetch","ok","Error","statusText","json","requestDate","result","map","ticket","_id","code","price","planeInfo","fromCountry","toCountry","editedUserRequest","startDate","flightPeriod","endDate","reqDay","getDay","schedule","some","day","flightSch","_ref3","startTime","departureTime","endTime","arrivalTime","JSON","stringify","resetTicketsInfo","setSelectedFlightInfo","get","status","departureDate","moment","format","seats","passenger","selectedSeat","push","soldSeats","updatedFlightInfo","setFlightInfo","err","console","log","setPassengersInfo","resetSelectedFlightInfo","setReturnSelectedFlightInfo","setReturnFlightInfo","setReturnFlightPassengersInfo","resetReturnSelectedFlightInfo","getUserOrdersErrored","fetchUserOrdersData","userId","getItem","resetOrdersInfo","LoginMenu","anchorEl","handleClick","event","_this","setState","currentTarget","handleClose","this","fa","core_Menu_default","open","Boolean","onClose","MenuItem_default","Link","props","logOut","React","Component","withRouter","connect","clear","Fragment","login_menu","HeaderMenu","header_menu_menu","showSidebar","header_menu_sidebar","Header","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","classes","AppBar_default","position","Toolbar_default","Typography_default","color","grow","withStyles","root","flexGrow","styles","zIndex","marginTop","container","display","flexDirection","alignItems","icon","marginLeft","marginRight","textField","selectField","passengers","button","airportsFetchData","theme","_textField","_selectField","_passengers","marginBottom","spacing","unit","width","defineProperty","breakpoints","up","selectEmpty","validate","values","errors","returnDate","today","waytype","DatePickerWrapper","_props$input","input","onChange","value","restInput","objectWithoutProperties","meta","rest","showError","submitError","dirtySinceLastSubmit","error","touched","material_ui_pickers_esm","assign","helperText","inputProps","SimpleSelect","labelWidth","ReactDOM","findDOMNode","InputLabelRef","offsetWidth","_this2","_this$props","_this$props$input","FormControl_default","InputLabel_default","ref","htmlFor","label","Select_default","OutlinedInput_default","FormHelperText_default","margin","text_field","_ref$input","TextField_default","SearchForm","onSubmit","_callee","regenerator_default","wrap","_context","prev","next","onSearchClick","stop","react_final_form_es","render","handleSubmit","component","utils","DateFnsUtils","DatePicker","TextField","compose","ticketsHasErrored","ticketsIsLoading","airportsHaveErrored","selectedFlightId","returnSelectedFlightId","flights","index","FlightsList","openSearchForm","goToNextPage","history","enqueueSnackBar","getPassAmount","returnTickets","backDate","flights_list_search_form","List_default","disablePadding","flights_list_flights_list_items","obj","backgroundColor","palette","common","white","dense","menu","email","password","Login","componentDidUpdate","goBack","componentDidMount","handleChange","target","withSnackbar","lastName","Register","hiddenTextField","Search","oneWayType","setWayType","classNames","Button_default","PassengersCounters","addPassenger","removePassenger","Person_default","fetchLuggageTypes","getLuggageTypes","Luggage","kg","Details","requiredArray","details_luggage","padding","paddingBottom","activeStep","Stepper_default","alternativeLabel","Step_default","StepLabel_default","PassengersList","keys","sort","passengersArray","passAmount","i","firstname","lastname","luggagePrice","luggageKg","_this$props$userReque","passengersAmount","Array","fill","components_stepper","mutators","arrayMutators","pristine","submitting","react_final_form_arrays_es","elem","expandable_panel_header_Header","disabled","PassengersSeatsTable","flight","setSelectedPassenger","select","colSpan","PlaneSeats","rows","location","setInfo","rowss","selectSeat","newInfo","selectedSeats","place","j","isDisable","seat","isSelected","SeatsSigns","signs","sign","Plane","plane_plane_seats","SeatsChoice","currentFlightId","setReturnFlightSelectedPassenger","passengers_seats_passengers_seats_table","passengers_seats_plane","rowsNumber","seatsInRow","reduce","total","getTicketPrice","number","month","year","payForOrder","userOrder","order","months","years","normalizeCardNumber","onlyNums","replace","slice","normalizeCode","parse","window","print","ListItem","isOpened","toggleDetails","OrdersHistory","getPastOrders","getFutureOrders","userOrders","orders_history_list_item","UserRouteGuard","shouldRoute","headers","Authorization","Promise","resolve","NotFoundPage","Notifier","displayed","storeDisplayed","_ref$notifications","newSnacks","currentSnacks","notExists","_loop","_this$props$notificat","includes","removeSB","store","createStore","composeWithDevTools","applyMiddleware","thunk","persistor","persistStore","configureStore","es","integration_react","loading","build","BrowserRouter","components_header","notifier","Switch","Route","path","react_route_guard","routeGuard","redirectToPathWhenFail","OrderDetails","Payment","PaymentSuccess","document","getElementById"],"mappings":"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","file":"static/js/main.4d4504d2.chunk.js","sourcesContent":["import keyMirror from 'keymirror';\r\n\r\nexport default keyMirror({\r\n  AIRPORT_HAS_ERRORED: null,\r\n  AIRPORT_FETCH_DATA_SUCCESS: null,\r\n  TICKETS_IS_LOADING: null,\r\n  TICKETS_HAS_ERRORED: null,\r\n  TICKETS_FETCH_DATA_SUCCESS: null,\r\n  TICKETS_RETURN_FETCH_DATA_SUCCESS: null,\r\n  TICKETS_INFO_RESETTING: null,\r\n  \r\n});\r\n","import actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  hasErrored: false,\r\n  isLoading: false,\r\n  departureItems: [],\r\n  returnItems: [],\r\n};\r\n\r\nexport default function tickets(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.TICKETS_HAS_ERRORED:\r\n      return {\r\n        ...state,\r\n        hasErrored: action.hasErrored,\r\n      };\r\n    case actionTypes.TICKETS_IS_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: action.isLoading,\r\n      };\r\n    case actionTypes.TICKETS_FETCH_DATA_SUCCESS:\r\n      return {\r\n        ...state,\r\n        departureItems: action.items,\r\n      };\r\n    case actionTypes.TICKETS_RETURN_FETCH_DATA_SUCCESS:\r\n      return {\r\n        ...state,\r\n        returnItems: action.items,\r\n      };\r\n    case actionTypes.TICKETS_INFO_RESETTING:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  items: [],\r\n  hasErrored: false,\r\n};\r\n\r\nexport default function airports(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.AIRPORT_FETCH_DATA_SUCCESS:\r\n      return {\r\n        ...state,\r\n        items: action.items,\r\n      };\r\n    case actionTypes.AIRPORT_HAS_ERRORED:\r\n      return {\r\n        ...state,\r\n        hasErrored: action.hasErrored,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport tickets from './tickets/reducers';\r\nimport airports from './airports/reducers';\r\n\r\nexport default combineReducers({\r\n  tickets,\r\n  airports,\r\n});\r\n","import keyMirror from 'keymirror';\r\n\r\nexport default keyMirror({\r\n  USER_REQUEST: null,\r\n  USER_SELECTED_FLIGHT_INFO: null,\r\n  USER_RETURN_SELECTED_FLIGHT_INFO: null,\r\n  USER_TOTAL_PRICE: null,\r\n  PASSENGERS_INFO: null,\r\n  RETURN_FLIGHT_PASSENGERS_INFO: null,\r\n  SELECTED_PASSENGER: null,\r\n  RETURN_FLIGHT_SELECTED_PASSENGER: null,\r\n  RETURN_SELECTED_FLIGHT_INFO_RESETTING: null,\r\n  USER_INFO_RESETTING: null,\r\n  SELECTED_FLIGHT_INFO_RESETTING: null,\r\n  IS_LOGGED_IN_USER: null,\r\n  IS_REGISTERED_USER: null,\r\n  PAYMENT_STATUS: null,\r\n  TWO_WAY_REQUEST: null,\r\n});\r\n","import actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  id: '',\r\n  passengersInfo: [],\r\n  selectedPassenger: 0,\r\n};\r\n\r\nexport default function user(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.USER_SELECTED_FLIGHT_INFO:\r\n      return {\r\n        ...state,\r\n        ...action.flightInfo,\r\n      };\r\n    case actionTypes.PASSENGERS_INFO:\r\n      return {\r\n        ...state,\r\n        passengersInfo: action.info,\r\n      };\r\n    case actionTypes.SELECTED_PASSENGER:\r\n      return {\r\n        ...state,\r\n        selectedPassenger: action.id,\r\n      };\r\n    case actionTypes.SELECTED_FLIGHT_INFO_RESETTING:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  id: '',\r\n  passengersInfo: [],\r\n  selectedPassenger: 0,\r\n};\r\n\r\nexport default function user(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.USER_RETURN_SELECTED_FLIGHT_INFO:\r\n      return {\r\n        ...state,\r\n        ...action.flightInfo,\r\n      };\r\n    case actionTypes.RETURN_FLIGHT_PASSENGERS_INFO:\r\n      return {\r\n        ...state,\r\n        passengersInfo: action.info,\r\n      };\r\n    case actionTypes.RETURN_FLIGHT_SELECTED_PASSENGER:\r\n      return {\r\n        ...state,\r\n        selectedPassenger: action.id,\r\n      };\r\n    case actionTypes.RETURN_SELECTED_FLIGHT_INFO_RESETTING:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import actionTypes from './actionTypes';\r\n\r\nconst initialState = {\r\n  request: {\r\n    twoWayRequest: false\r\n  },\r\n  loggedInUser: false,\r\n  paymentSuccess: false,\r\n};\r\n\r\nexport default function user(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.USER_REQUEST:\r\n      return {\r\n        ...state,\r\n        request: {\r\n          ...action.request,\r\n          adult: +action.request.adult || 0,\r\n          child: +action.request.child || 0,\r\n          infant: +action.request.infant || 0,\r\n        },\r\n      };\r\n    case actionTypes.IS_LOGGED_IN_USER:\r\n      return {\r\n        ...state,\r\n        loggedInUser: action.bool,\r\n      };\r\n    case actionTypes.PAYMENT_STATUS:\r\n      return {\r\n        ...state,\r\n        paymentSuccess: action.bool,\r\n      };\r\n    case actionTypes.USER_INFO_RESETTING:\r\n      return {\r\n        ...initialState,\r\n        loggedInUser: state.loggedInUser,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import keyMirror from 'keymirror';\r\n\r\nexport default keyMirror({\r\n  FETCHED_USER_ORDERS: null,\r\n  FETCHED_USER_ORDERS_ERRORED: null,\r\n  ORDERS_INFO_RESETTING: null,\r\n});\r\n","import actionTypes from './actionTypes';\r\n\r\nconst initialState = {\r\n  ordersErrored: false,\r\n  orders: [],\r\n};\r\n\r\nexport default function userOrdersInfo(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.FETCHED_USER_ORDERS:\r\n      return {\r\n        ...state,\r\n        orders: action.orders,\r\n      };\r\n    case actionTypes.FETCHED_USER_ORDERS_ERRORED:\r\n      return {\r\n        ...state,\r\n        ordersErrored: action.bool,\r\n      };\r\n    case actionTypes.ORDERS_INFO_RESETTING:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport selectedFlight from './selectedFlight/reducers';\r\nimport returnSelectedFlight from './returnSelectedFlight/reducers';\r\nimport requestInfo from './reducers';\r\nimport ordersInfo from './orders/reducers';\r\n\r\nexport default combineReducers({\r\n  selectedFlight,\r\n  returnSelectedFlight,\r\n  requestInfo,\r\n  ordersInfo,\r\n});\r\n","import keyMirror from 'keymirror';\r\n\r\nexport default keyMirror({\r\n  GET_LUGGAGE_TYPES: null,\r\n  LUGGAGE_HAS_ERRORED: null,\r\n});\r\n","import actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  luggageTypes: [],\r\n  hasErrored: false,\r\n};\r\n\r\nexport default function luggageTypes(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.GET_LUGGAGE_TYPES:\r\n      return {\r\n        ...state,\r\n        luggageTypes: action.luggageTypes,\r\n      };\r\n    case actionTypes.LUGGAGE_HAS_ERRORED:\r\n      return {\r\n        ...state,\r\n        hasErrored: action.hasErrored,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport luggage from './luggage-types/reducers';\r\n\r\nexport default combineReducers({\r\n  luggage,\r\n});\r\n","const defaultState = {\r\n  notifications: [],\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case 'ENQUEUE_SNACKBAR':\r\n      return {\r\n        ...state,\r\n        notifications: [\r\n          ...state.notifications,\r\n          {\r\n            ...action.notification,\r\n          },\r\n        ],\r\n      };\r\n\r\n    case 'REMOVE_SNACKBAR':\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.filter(\r\n          notification => notification.key !== action.key,\r\n        ),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport searchPage from './search';\r\nimport user from './user';\r\nimport data from './data';\r\nimport notifications from './notifier/reducers';\r\n\r\nconst rootReducer = combineReducers({\r\n  searchPage,\r\n  user,\r\n  data,\r\n  notifications,\r\n});\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\n// export default (initialState) => {\r\nexport default () => {\r\n  const store = createStore(\r\n    persistedReducer,\r\n    // initialState,\r\n    composeWithDevTools(applyMiddleware(thunk)),\r\n  );\r\n  const persistor = persistStore(store);\r\n  return { store, persistor };\r\n};\r\n\r\n// export default function configureStore(initialState) {\r\n//   return createStore(\r\n//     rootReducer,\r\n//     initialState,\r\n//     composeWithDevTools(applyMiddleware(thunk)),\r\n//   );\r\n// }\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport './index.scss';\r\n\r\nexport default function MenuButton({ onClick }) {\r\n  MenuButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  return (\r\n    <button type=\"button\" className=\"header__button\" onClick={onClick}>\r\n      <MenuIcon />\r\n    </button>\r\n  );\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.scss';\r\n\r\nexport const Overlay = ({ isOpen, onClick }) => (\r\n  <div\r\n    role=\"presentation\"\r\n    className={`overlay${isOpen ? ' overlay_opened' : ''}`}\r\n    onClick={onClick}\r\n  />\r\n);\r\n\r\nOverlay.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nconst Sidebar = ({ isOpen, hideSidebar, children }) => (\r\n  <Fragment>\r\n    <div className={`sidebar${isOpen ? ' sidebar_opened' : ''}`}>\r\n      {children}\r\n    </div>\r\n    <Overlay isOpen={isOpen} onClick={hideSidebar} />\r\n  </Fragment>\r\n);\r\n\r\nSidebar.propTypes = {\r\n  isOpen: PropTypes.bool,\r\n  hideSidebar: PropTypes.func.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\n\r\nexport default Sidebar;\r\n","export const enqueueSnackbar = notification => ({\r\n  type: 'ENQUEUE_SNACKBAR',\r\n  notification: {\r\n    key: new Date().getTime() + Math.random(),\r\n    ...notification,\r\n  },\r\n});\r\n\r\nexport const removeSnackbar = key => ({\r\n  type: 'REMOVE_SNACKBAR',\r\n  key,\r\n});\r\n","const urls = {\r\n  sendOrderData: 'http://localhost:3001/order',\r\n  sendLoginFormData: 'http://localhost:3001/user/login',\r\n  sendRegisterFormData: 'http://localhost:3001/user/register',\r\n  checkAuthentication: 'http://localhost:3001/user/check-auth',\r\n};\r\n\r\nexport default urls;\r\n","import axios from 'axios';\r\nimport actionTypes from './actionTypes';\r\nimport { enqueueSnackbar } from '../notifier/actions';\r\nimport urls from '../../urls';\r\n\r\nexport function setUserRequestData(request) {\r\n  return {\r\n    type: actionTypes.USER_REQUEST,\r\n    request,\r\n  };\r\n}\r\n\r\nfunction paymentStatus(bool) {\r\n  return {\r\n    type: actionTypes.PAYMENT_STATUS,\r\n    bool,\r\n  };\r\n}\r\n\r\nexport function payForOrder(userOrder) {\r\n  return dispatch => userOrder.forEach(order => axios.post('http://localhost:3001/order', order)\r\n    .then((response) => {\r\n      if (response.status !== 200) {\r\n        paymentStatus(false);\r\n        throw Error(response.statusText);\r\n      }\r\n\r\n      return response.data;\r\n    })\r\n    .then(() => dispatch(paymentStatus(true)))\r\n    .catch(err => console.log(err)));\r\n}\r\n\r\nexport function logInUser(bool) {\r\n  return {\r\n    type: actionTypes.IS_LOGGED_IN_USER,\r\n    bool,\r\n  };\r\n}\r\n\r\nfunction loginUserInSystem(bool, id, token) {\r\n  return (dispatch) => {\r\n    dispatch(logInUser(bool));\r\n    localStorage.setItem('id', id);\r\n    localStorage.setItem('token', token);\r\n  };\r\n}\r\n\r\nexport function authoriseUser(userInfo) {\r\n  const url = userInfo.firstName ? urls.sendRegisterFormData : urls.sendLoginFormData;\r\n\r\n  return (dispatch) => {\r\n    axios.post(url, userInfo)\r\n      .then((response) => {\r\n        dispatch(loginUserInSystem(true, response.data.id, response.data.token));\r\n\r\n        if (!userInfo.firstName) {\r\n          return dispatch(enqueueSnackbar({\r\n            message: 'Authorization success',\r\n            options: {\r\n              variant: 'success',\r\n            },\r\n          }));\r\n        }\r\n\r\n        return dispatch(enqueueSnackbar({\r\n          message: 'Registration success',\r\n          options: {\r\n            variant: 'success',\r\n          },\r\n        }));\r\n      })\r\n      .catch(() => dispatch(logInUser(false)));\r\n  };\r\n}\r\n\r\nexport function resetUserInfo() {\r\n  return {\r\n    type: actionTypes.USER_INFO_RESETTING,\r\n  };\r\n}\r\n"," import actionTypes from '../actionTypes';\r\n// import { setUserRequestData, setRequestType } from '../../user/actions';\r\nimport { setUserRequestData } from '../../user/actions';\r\nimport { enqueueSnackbar } from '../../notifier/actions';\r\n\r\nexport function hasErrored(bool) {\r\n  return {\r\n    type: actionTypes.TICKETS_HAS_ERRORED,\r\n    hasErrored: bool,\r\n  };\r\n}\r\n\r\nexport function isLoading(bool) {\r\n  return {\r\n    type: actionTypes.TICKETS_IS_LOADING,\r\n    isLoading: bool,\r\n  };\r\n}\r\n\r\nexport function fetchDataSuccess(items) {\r\n  return {\r\n    type: actionTypes.TICKETS_FETCH_DATA_SUCCESS,\r\n    items,\r\n  };\r\n}\r\n\r\nexport function fetchReturnDataSuccess(items) {\r\n  return {\r\n    type: actionTypes.TICKETS_RETURN_FETCH_DATA_SUCCESS,\r\n    items,\r\n  };\r\n}\r\n\r\nexport function ticketsFetchData(userRequest) {\r\n  const {\r\n    from, to, departure, return: back,\r\n  } = userRequest;\r\n  const wayType = userRequest.wayType || [];\r\n  const departureUrl = `http://localhost:3001/tickets?fromCountry=${from}&toCountry=${to}`;\r\n  const backUrl = wayType.length ? `http://localhost:3001/tickets?fromCountry=${to}&toCountry=${from}` : null;\r\n  const urls = [\r\n    {\r\n      url: departureUrl,\r\n      action: fetchDataSuccess,\r\n      name: 'departureItems',\r\n      date: departure,\r\n    },\r\n    {\r\n      url: backUrl,\r\n      action: fetchReturnDataSuccess,\r\n      name: 'returnItems',\r\n      date: back,\r\n    },\r\n  ];\r\n\r\n  return (dispatch) => {\r\n    dispatch(fetchDataSuccess([]));\r\n    dispatch(fetchReturnDataSuccess([]));\r\n    dispatch(isLoading(true));\r\n\r\n    urls.forEach(({ url, action, name, date }) => {\r\n      if (url) {\r\n        fetch(url)\r\n          .then((response) => {\r\n            if (!response.ok) {\r\n              throw Error(response.statusText);\r\n            }\r\n\r\n            dispatch(isLoading(false));\r\n\r\n            return response;\r\n          })\r\n          .then(response => response.json())\r\n          .then((tickets) => {\r\n            const requestDate = new Date(date);\r\n            const result = tickets.map((ticket) => {\r\n              const {\r\n                _id, code, price, planeInfo, fromCountry: { name: fromCountry }, toCountry: { name: toCountry },\r\n              } = ticket;\r\n\r\n              const twoWayRequest = !!(wayType.length);\r\n              const editedUserRequest = {\r\n                ...userRequest,\r\n                twoWayRequest,\r\n                from: backUrl ? toCountry : fromCountry,\r\n                to: backUrl ? fromCountry : toCountry,\r\n              };\r\n              dispatch(setUserRequestData(editedUserRequest));\r\n              const startDate = new Date(ticket.flightPeriod.startDate);\r\n              const endDate = new Date(ticket.flightPeriod.endDate);\r\n              if (startDate <= requestDate && requestDate <= endDate) {\r\n                const reqDay = requestDate.getDay();\r\n\r\n                if (ticket.schedule.some(({ day }) => day === reqDay)) {\r\n                  const flightSch = ticket.schedule.filter(({ day }) => day === reqDay);\r\n\r\n                  return {\r\n                    id: _id,\r\n                    code,\r\n                    date: requestDate,\r\n                    startTime: flightSch[0].departureTime,\r\n                    endTime: flightSch[0].arrivalTime,\r\n                    fromCountry,\r\n                    toCountry,\r\n                    price,\r\n                    planeInfo,\r\n                  };\r\n                }\r\n              }\r\n            });\r\n\r\n            localStorage.setItem(`${name}`, JSON.stringify(result));\r\n\r\n            if (result[0] === undefined) {\r\n              dispatch(enqueueSnackbar({\r\n                message: \"Can't find flights for this request\",\r\n                options: {\r\n                  variant: 'error',\r\n                },\r\n              }));\r\n            } else {\r\n              return dispatch(action(result));\r\n            }\r\n          })\r\n          .catch(() => {\r\n            dispatch(hasErrored(true));\r\n            dispatch(enqueueSnackbar({\r\n              message: 'Ooops...Something goes wrong',\r\n              options: {\r\n                variant: 'error',\r\n              },\r\n            }));\r\n          });\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport function resetTicketsInfo() {\r\n  return {\r\n    type: actionTypes.TICKETS_INFO_RESETTING,\r\n  };\r\n}\r\n","import axios from 'axios';\r\nimport moment from 'moment';\r\nimport actionTypes from '../actionTypes';\r\n\r\nexport function setFlightInfo(flightInfo) {\r\n  return {\r\n    type: actionTypes.USER_SELECTED_FLIGHT_INFO,\r\n    flightInfo,\r\n  };\r\n}\r\n\r\nexport function setSelectedFlightInfo(flightInfo) {\r\n  const url = `http://localhost:3001/order?selectedFlight=${flightInfo.id}`;\r\n\r\n  return (dispatch) => {\r\n    axios.get(url)\r\n      .then((response) => {\r\n        if (response.status !== 200) {\r\n          throw Error(response.statusText);\r\n        }\r\n\r\n        return response.data;\r\n      })\r\n      .then(orders => orders.filter(({ departureDate }) => moment(departureDate).format('L') === moment(flightInfo.date).format('L')))\r\n      .then(orders => orders.map(({ passengersInfo }) => passengersInfo))\r\n      .then((passengersInfo) => {\r\n        const seats = [];\r\n        passengersInfo.map(passenger => passenger.forEach(({ selectedSeat }) => {\r\n          seats.push(selectedSeat);\r\n        }));\r\n        return seats;\r\n      })\r\n      .then((soldSeats) => {\r\n        const updatedFlightInfo = {\r\n          ...flightInfo,\r\n          soldSeats,\r\n        };\r\n        dispatch(setFlightInfo(updatedFlightInfo));\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n}\r\n\r\n\r\nexport function setPassengersInfo(info) {\r\n  return {\r\n    type: actionTypes.PASSENGERS_INFO,\r\n    info,\r\n  };\r\n}\r\n\r\nexport function setSelectedPassenger(id) {\r\n  return {\r\n    type: actionTypes.SELECTED_PASSENGER,\r\n    id,\r\n  };\r\n}\r\n\r\nexport function resetSelectedFlightInfo() {\r\n  return {\r\n    type: actionTypes.SELECTED_FLIGHT_INFO_RESETTING,\r\n  };\r\n}\r\n","import axios from 'axios';\r\nimport actionTypes from '../actionTypes';\r\n\r\nexport function setReturnFlightInfo(flightInfo) {\r\n  return {\r\n    type: actionTypes.USER_RETURN_SELECTED_FLIGHT_INFO,\r\n    flightInfo,\r\n  };\r\n}\r\n\r\nexport function setReturnSelectedFlightInfo(flightInfo) {\r\n  const url = `http://localhost:3001/order?selectedFlight=${flightInfo.id}`;\r\n\r\n  return (dispatch) => {\r\n    axios.get(url)\r\n      .then((response) => {\r\n        if (response.status !== 200) {\r\n          throw Error(response.statusText);\r\n        }\r\n\r\n        return response.data;\r\n      })\r\n      .then(orders => orders.map(({ passengersInfo }) => passengersInfo))\r\n      .then((passengersInfo) => {\r\n        const seats = [];\r\n        passengersInfo.map(passenger => passenger.forEach(({ selectedSeat }) => {\r\n          seats.push(selectedSeat);\r\n        }));\r\n        return seats;\r\n      })\r\n      .then((soldSeats) => {\r\n        const updatedFlightInfo = {\r\n          ...flightInfo,\r\n          soldSeats,\r\n        };\r\n        dispatch(setReturnFlightInfo(updatedFlightInfo));\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n}\r\n\r\n\r\nexport function setReturnFlightPassengersInfo(info) {\r\n  return {\r\n    type: actionTypes.RETURN_FLIGHT_PASSENGERS_INFO,\r\n    info,\r\n  };\r\n}\r\n\r\nexport function setReturnFlightSelectedPassenger(id) {\r\n  return {\r\n    type: actionTypes.RETURN_FLIGHT_SELECTED_PASSENGER,\r\n    id,\r\n  };\r\n}\r\n\r\nexport function resetReturnSelectedFlightInfo() {\r\n  return {\r\n    type: actionTypes.RETURN_SELECTED_FLIGHT_INFO_RESETTING,\r\n  };\r\n}\r\n","import axios from 'axios';\r\nimport actionTypes from './actionTypes';\r\nimport { enqueueSnackbar } from '../../notifier/actions';\r\n\r\nexport function getUserOrders(orders) {\r\n  return {\r\n    type: actionTypes.FETCHED_USER_ORDERS,\r\n    orders,\r\n  };\r\n}\r\n\r\nexport function getUserOrdersErrored(bool) {\r\n  return {\r\n    type: actionTypes.FETCHED_USER_ORDERS_ERRORED,\r\n    bool,\r\n  };\r\n}\r\n\r\nexport function fetchUserOrdersData(date, type) {\r\n  const userId = localStorage.getItem('id');\r\n\r\n  return (dispatch) => {\r\n    axios.get(`http://localhost:3001/order?userId=${userId}&date=${date}&type=${type}`)\r\n      .then((response) => {\r\n        if (response.status !== 200) {\r\n          throw Error(response.statusText);\r\n        }\r\n        return response;\r\n      })\r\n      .then((response) => {\r\n        dispatch(getUserOrders(response.data));\r\n        dispatch(getUserOrdersErrored(false));\r\n        if (!response.data.length) {\r\n          return dispatch(enqueueSnackbar({\r\n            message: \"You haven't got any orders yet\",\r\n            options: {\r\n              variant: 'info',\r\n            },\r\n          }));\r\n        }\r\n      })\r\n      .catch(() => dispatch(getUserOrdersErrored(true)));\r\n  };\r\n}\r\n\r\nexport function resetOrdersInfo() {\r\n  return {\r\n    type: actionTypes.ORDERS_INFO_RESETTING,\r\n  };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\n\r\nclass LoginMenu extends React.Component {\r\n  static propTypes = {\r\n    logOut: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    anchorEl: null,\r\n  };\r\n\r\n  handleClick = event => this.setState({ anchorEl: event.currentTarget });\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  render() {\r\n    const { anchorEl } = this.state;\r\n    const token = localStorage.getItem('token');\r\n\r\n    return (\r\n      <div className=\"login-menu\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"link-to login-menu__user-icon-button\"\r\n          onClick={this.handleClick}\r\n        >\r\n          <FaUserCircle className=\"login-menu__user-icon\" />\r\n        </button>\r\n        {token\r\n          ? (\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              open={Boolean(anchorEl)}\r\n              onClose={this.handleClose}\r\n            >\r\n              <MenuItem onClick={this.handleClose}>\r\n                <Link to=\"/search\" className=\"login-menu__link-to\" onClick={this.props.logOut}>\r\n                  Logout\r\n                </Link>\r\n              </MenuItem>\r\n            </Menu>\r\n          )\r\n          : (\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              open={Boolean(anchorEl)}\r\n              onClose={this.handleClose}\r\n            >\r\n              <MenuItem onClick={this.handleClose}>\r\n                <Link to=\"/login\" className=\"login-menu__link-to\">\r\n                  Log In\r\n                </Link>\r\n              </MenuItem>\r\n              <MenuItem onClick={this.handleClose}>\r\n                <Link to=\"/register\" className=\"login-menu__link-to\">\r\n                  Register\r\n                </Link>\r\n              </MenuItem>\r\n            </Menu>\r\n          )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LoginMenu);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { logInUser, resetUserInfo } from '../../../../redux/user/actions';\r\nimport { resetTicketsInfo } from '../../../../redux/search/tickets/actions';\r\nimport { resetSelectedFlightInfo } from '../../../../redux/user/selectedFlight/actions';\r\nimport { resetReturnSelectedFlightInfo } from '../../../../redux/user/returnSelectedFlight/actions';\r\nimport { resetOrdersInfo } from '../../../../redux/user/orders/actions';\r\nimport LoginMenu from '../login-menu';\r\nimport './index.scss';\r\n\r\nfunction Menu(props) {\r\n  Menu.propTypes = {\r\n    className: PropTypes.any.isRequired,\r\n    loggedInUser: PropTypes.bool.isRequired,\r\n    onClick: PropTypes.func,\r\n    logInUser: PropTypes.func.isRequired,\r\n    resetTicketsInfo: PropTypes.func.isRequired,\r\n    resetSelectedFlightInfo: PropTypes.func.isRequired,\r\n    resetReturnSelectedFlightInfo: PropTypes.func.isRequired,\r\n    resetOrdersInfo: PropTypes.func.isRequired,\r\n    resetUserInfo: PropTypes.func.isRequired,\r\n  };\r\n\r\n  const logOut = () => {\r\n    localStorage.clear();\r\n    props.resetTicketsInfo();\r\n    props.resetSelectedFlightInfo();\r\n    props.resetReturnSelectedFlightInfo();\r\n    props.resetOrdersInfo();\r\n    props.resetUserInfo();\r\n    props.logInUser(false);\r\n  };\r\n\r\n  const showLinks = () => {\r\n    if (props.onClick) {\r\n      if (props.loggedInUser) {\r\n        return (\r\n          <>\r\n            <Link\r\n              to=\"/orders-history\"\r\n              className=\"link-to\"\r\n              onClick={props.onClick}\r\n            >\r\n              My orders\r\n            </Link>\r\n            <Link to=\"/search\" className=\"link-to\" onClick={logOut}>\r\n              Logout\r\n            </Link>\r\n          </>\r\n        );\r\n      }\r\n\r\n      return (\r\n        <>\r\n          <Link\r\n            to=\"/login\"\r\n            className=\"link-to\"\r\n            onClick={props.onClick}\r\n          >\r\n            Log In\r\n          </Link>\r\n          <Link\r\n            to=\"/register\"\r\n            className=\"link-to\"\r\n            onClick={props.onClick}\r\n          >\r\n            Register\r\n          </Link>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (props.loggedInUser) {\r\n      return (\r\n        <>\r\n          <Link\r\n            to=\"/orders-history\"\r\n            className=\"link-to\"\r\n            onClick={props.onClick}\r\n          >\r\n            My orders\r\n          </Link>\r\n          <LoginMenu logOut={logOut} />\r\n        </>\r\n      );\r\n    }\r\n\r\n\r\n    return <LoginMenu logOut={logOut} />;\r\n  };\r\n\r\n  return (\r\n    <div className={props.className}>\r\n      <Link\r\n        to=\"/search\"\r\n        className=\"link-to\"\r\n        onClick={props.onClick}\r\n      >\r\n        Search\r\n      </Link>\r\n      {showLinks()}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedInUser: state.user.requestInfo.loggedInUser,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  logInUser: bool => dispatch(logInUser(bool)),\r\n  resetTicketsInfo: () => dispatch(resetTicketsInfo()),\r\n  resetSelectedFlightInfo: () => dispatch(resetSelectedFlightInfo()),\r\n  resetReturnSelectedFlightInfo: () => dispatch(resetReturnSelectedFlightInfo()),\r\n  resetOrdersInfo: () => dispatch(resetOrdersInfo()),\r\n  resetUserInfo: () => dispatch(resetUserInfo()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport MenuButton from './button';\r\nimport Sidebar from './sidebar';\r\nimport Menu from './menu';\r\n\r\nexport default function HeaderMenu(props) {\r\n  HeaderMenu.propTypes = {\r\n    isOpen: PropTypes.bool.isRequired,\r\n    showSidebar: PropTypes.func.isRequired,\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Menu className=\"header__menu\" />\r\n      <MenuButton onClick={props.showSidebar} />\r\n      <Sidebar isOpen={props.isOpen} hideSidebar={props.showSidebar}>\r\n        <Menu className=\"sidebar__menu\" onClick={props.showSidebar} />\r\n      </Sidebar>\r\n    </Fragment>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { styles } from './material.style';\r\n\r\nimport HeaderMenu from './header-menu';\r\nimport './index.scss';\r\n\r\nclass Header extends Component {\r\n  static propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  showSidebar = () => {\r\n    this.setState(state => ({ isOpen: !state.isOpen }));\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"header\">\r\n        <AppBar position=\"fixed\">\r\n          <Toolbar>\r\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n              <Link to=\"/search\" className=\"header__logo-link\">Travello</Link>\r\n            </Typography>\r\n\r\n            <HeaderMenu isOpen={this.state.isOpen} showSidebar={this.showSidebar} />\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Header);\r\n","export const styles = {\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n};\r\n","const styles = {\r\n  root: {\r\n    flexGrow: 1,\r\n    zIndex: 2,\r\n    marginTop: 56,\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n  },\r\n  icon: {\r\n    marginLeft: 13,\r\n    marginRight: 10,\r\n  },\r\n  textField: {},\r\n  selectField: {},\r\n  passengers: {},\r\n  button: {},\r\n};\r\n\r\nexport default styles;\r\n","import actionTypes from '../actionTypes';\r\n\r\nexport function hasErrored(bool) {\r\n  return {\r\n    type: actionTypes.AIRPORT_HAS_ERRORED,\r\n    hasErrored: bool,\r\n  };\r\n}\r\n\r\nexport function fetchDataSuccess(items) {\r\n  return {\r\n    type: actionTypes.AIRPORT_FETCH_DATA_SUCCESS,\r\n    items,\r\n  };\r\n}\r\n\r\nexport function airportsFetchData(url) {\r\n  return (dispatch) => {\r\n    fetch(url)\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw Error(response.statusText);\r\n        }\r\n\r\n        return response;\r\n      })\r\n      .then(response => response.json())\r\n      .then(airports => dispatch(fetchDataSuccess(airports)))\r\n      .catch(() => dispatch(hasErrored(true)));\r\n  };\r\n}\r\n","const styles = theme => ({\r\n  textField: {\r\n    marginBottom: theme.spacing.unit,\r\n    marginRight: 10,\r\n    width: 200,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 210,\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 240,\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: 270,\r\n    },\r\n  },\r\n\r\n  selectField: {\r\n    marginBottom: theme.spacing.unit,\r\n    marginRight: 10,\r\n    width: 200,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 210,\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 240,\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: 270,\r\n    },\r\n  },\r\n\r\n  passengers: {\r\n    marginBottom: theme.spacing.unit,\r\n    marginRight: 10,\r\n    width: 200,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 210,\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 240,\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: 270,\r\n    },\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing.unit * 2,\r\n  },\r\n  button: {\r\n    marginTop: 10,\r\n  },\r\n});\r\n\r\nexport default styles;\r\n","import moment from 'moment';\r\n\r\nconst validate = (values) => {\r\n  const errors = {};\r\n  const departureDate = moment(values.departure).format('L');\r\n  const returnDate = values.return !== undefined ? moment(values.return).format('L') : null;\r\n  const today = moment(new Date()).format('L');\r\n  const waytype = values.wayType || [];\r\n\r\n  if (!values.from) {\r\n    errors.from = 'Required';\r\n  }\r\n\r\n  if (!values.to) {\r\n    errors.to = 'Required';\r\n  } else if (values.to === values.from) {\r\n    errors.to = 'Please, choose another country';\r\n  }\r\n\r\n  if (!values.departure) {\r\n    errors.departure = 'Required';\r\n  } else if (departureDate < today) {\r\n    errors.departure = 'Please, choose another day';\r\n  }\r\n\r\n  if (waytype.length) {\r\n    if (!values.return) {\r\n      errors.return = 'Required';\r\n    } else if (returnDate <= departureDate) {\r\n      errors.return = 'Please, choose another day';\r\n    }\r\n  }\r\n\r\n  if ((!values.adult || values.adult === '0') && (!values.child || values.child === '0') && (!values.infant || values.infant === '0')) {\r\n    errors.adult = 'Required';\r\n    errors.child = ' ';\r\n    errors.infant = ' ';\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default validate;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DatePicker } from 'material-ui-pickers';\r\n\r\nexport default function DatePickerWrapper(props) {\r\n  DatePickerWrapper.propTypes = {\r\n    input: PropTypes.object.isRequired,\r\n    meta: PropTypes.object.isRequired,\r\n  };\r\n\r\n  const {\r\n    input: {\r\n      name, onChange, value, ...restInput\r\n    },\r\n    meta,\r\n    ...rest\r\n  } = props;\r\n  const showError = ((meta.submitError && !meta.dirtySinceLastSubmit) || meta.error)\r\n    && meta.touched;\r\n\r\n  return (\r\n    <DatePicker\r\n      {...rest}\r\n      name={name}\r\n      helperText={showError ? meta.error || meta.submitError : undefined}\r\n      error={showError}\r\n      inputProps={restInput}\r\n      onChange={onChange}\r\n      value={value === '' ? null : value}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\n\r\nclass SimpleSelect extends React.Component {\r\n  static propTypes = {\r\n    input: PropTypes.object.isRequired,\r\n    meta: PropTypes.object.isRequired,\r\n    label: PropTypes.string.isRequired,\r\n    items: PropTypes.array.isRequired,\r\n  };\r\n\r\n  state = {\r\n    labelWidth: 0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      labelWidth: ReactDOM.findDOMNode(this.InputLabelRef).offsetWidth,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      input: {\r\n        name, onChange, value, ...restInput\r\n      }, meta, ...rest\r\n    } = this.props;\r\n\r\n    return (\r\n      <FormControl\r\n        variant=\"outlined\"\r\n        error={meta.error && meta.touched}\r\n      >\r\n        <InputLabel\r\n          ref={(ref) => {\r\n            this.InputLabelRef = ref;\r\n          }}\r\n          htmlFor=\"outlined-age-simple\"\r\n        >\r\n          {this.props.label}\r\n        </InputLabel>\r\n        <Select\r\n          {...rest}\r\n          name={name}\r\n          inputProps={restInput}\r\n          value={value}\r\n          onChange={onChange}\r\n          input={(\r\n            <OutlinedInput\r\n              labelWidth={this.state.labelWidth}\r\n              name={name}\r\n              id=\"outlined-age-simple\"\r\n            />\r\n)}\r\n        >\r\n          {this.props.items.length && this.props.items.map(({ _id, name }) => <MenuItem key={Math.random()} value={_id}>{name}</MenuItem>)}\r\n        </Select>\r\n        {meta.touched && meta.error && <FormHelperText margin=\"dense\">{meta.error}</FormHelperText>}\r\n      </FormControl>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SimpleSelect;\r\n","/* eslint-disable */\r\nimport React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport default ({\r\n  input: {\r\n    name, onChange, value, ...restInput\r\n  }, meta, ...rest\r\n}) => (\r\n  <TextField\r\n    {...rest}\r\n    name={name}\r\n    helperText={meta.touched ? meta.error : undefined}\r\n    error={meta.error && meta.touched}\r\n    inputProps={restInput}\r\n    onChange={onChange}\r\n    value={value}\r\n  />\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\r\nimport { airportsFetchData } from '../../../redux/search/airports/actions';\r\nimport { ticketsFetchData } from '../../../redux/search/tickets/actions';\r\nimport { Overlay } from '../../header/header-menu/sidebar';\r\n\r\nimport styles from './material.style';\r\nimport validate from '../../search/validate';\r\nimport DatePicker from '../../date-picker';\r\nimport SimpleSelect from '../../select';\r\nimport TextField from '../../text-field';\r\nimport './index.scss';\r\n\r\nclass SearchForm extends React.Component {\r\n  static propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    airports: PropTypes.array.isRequired,\r\n    ticketsFetchData: PropTypes.func.isRequired,\r\n    airportsFetchData: PropTypes.func.isRequired,\r\n    state: PropTypes.bool.isRequired,\r\n    onSearchClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    return this.props.airports.length || this.props.airportsFetchData('http://localhost:3001/airports');\r\n  }\r\n\r\n  onSubmit = async (values) => {\r\n    this.props.ticketsFetchData(values);\r\n    this.props.onSearchClick();\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <Form\r\n          onSubmit={this.onSubmit}\r\n          validate={validate}\r\n          render={({ handleSubmit }) => (\r\n            <form className={`flights-list__search-form ${!this.props.state ? 'closed' : ''}`} onSubmit={handleSubmit}>\r\n              <Field\r\n                name=\"from\"\r\n                label=\"From\"\r\n                className={classes.selectField}\r\n                component={SimpleSelect}\r\n                items={this.props.airports}\r\n              />\r\n\r\n              <Field\r\n                name=\"to\"\r\n                label=\"To\"\r\n                className={classes.selectField}\r\n                component={SimpleSelect}\r\n                items={this.props.airports}\r\n              />\r\n\r\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <Field\r\n                  name=\"departure\"\r\n                  label=\"Departure\"\r\n                  className={classes.textField}\r\n                  component={DatePicker}\r\n                  variant=\"outlined\"\r\n                />\r\n              </MuiPickersUtilsProvider>\r\n\r\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <Field\r\n                  name=\"return\"\r\n                  label=\"Return\"\r\n                  className={classes.textField}\r\n                  component={DatePicker}\r\n                  variant=\"outlined\"\r\n                />\r\n              </MuiPickersUtilsProvider>\r\n\r\n              <Field\r\n                name=\"adult\"\r\n                label=\"Passengers\"\r\n                className={classes.passengers}\r\n                component={TextField}\r\n                variant=\"outlined\"\r\n              />\r\n\r\n              <button type=\"submit\" className=\"button\">Search</button>\r\n            </form>\r\n          )}\r\n        />\r\n        <Overlay isOpen={this.props.state} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  userRequest: state.user.request,\r\n  tickets: state.searchPage.tickets.departureItems,\r\n  ticketsHasErrored: state.searchPage.tickets.hasErrored,\r\n  ticketsIsLoading: state.searchPage.tickets.isLoading,\r\n  airports: state.searchPage.airports.items,\r\n  airportsHaveErrored: state.searchPage.airports.hasErrored,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  ticketsFetchData: (url, values) => dispatch(ticketsFetchData(url, values)),\r\n  airportsFetchData: url => dispatch(airportsFetchData(url)),\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withStyles(styles),\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(SearchForm);\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport { connect } from 'react-redux';\r\nimport { FaPlane } from 'react-icons/fa';\r\nimport './index.scss';\r\n\r\nfunction FlightsListItems({\r\n  flights, returnSelectedFlightId, selectedFlightId, setFlightInfo,\r\n}) {\r\n  const setInfo = (price, flightInfo) => {\r\n    setFlightInfo(flightInfo);\r\n  };\r\n\r\n  return (\r\n    flights.map(({\r\n      id, date, startTime, endTime, fromCountry, toCountry, price, planeInfo, code,\r\n    }, index) => (\r\n      <div\r\n        id={id}\r\n        key={index}\r\n        className={`flights-list-item${id === returnSelectedFlightId || id === selectedFlightId ? ' selectedFlight' : ''}`}\r\n      >\r\n        <div className=\"flights-list-item__info\">\r\n          <div className=\"info-wrapper\">\r\n            <div className=\"flight\">\r\n              <span className=\"flight__time\">{moment(startTime).format('LT')}</span>\r\n              <span className=\"flight__country\">{fromCountry}</span>\r\n            </div>\r\n            <FaPlane className=\"fa-arrow\" />\r\n            <div className=\"flight\">\r\n              <span className=\"flight__time\">{moment(endTime).format('LT')}</span>\r\n              <span className=\"flight__country\">{toCountry}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flights-list-item__price\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"price-link\"\r\n            onClick={() => setInfo(price, {\r\n              id, date, fromCountry, toCountry, startTime, endTime, price, planeInfo, code,\r\n            })}\r\n          >\r\n            $ {price}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    ))\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  selectedFlightId: state.user.selectedFlight.id,\r\n  returnSelectedFlightId: state.user.returnSelectedFlight.id,\r\n});\r\n\r\nexport default connect(mapStateToProps)(FlightsListItems);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport moment from 'moment';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport styles from './material.style';\r\nimport { setSelectedFlightInfo } from '../../redux/user/selectedFlight/actions';\r\nimport { setReturnSelectedFlightInfo } from '../../redux/user/returnSelectedFlight/actions';\r\nimport { enqueueSnackbar } from '../../redux/notifier/actions';\r\nimport SearchForm from './search-form';\r\nimport FlightsListItems from './flights-list-items';\r\n// import TicketsList from './tickets-table';\r\nimport './index.scss';\r\n\r\nclass FlightsList extends React.Component {\r\n  static propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    tickets: PropTypes.array.isRequired,\r\n    returnTickets: PropTypes.array.isRequired,\r\n    request: PropTypes.object.isRequired,\r\n    setSelectedFlightInfo: PropTypes.func.isRequired,\r\n    setReturnSelectedFlightInfo: PropTypes.func.isRequired,\r\n    selectedFlight: PropTypes.object.isRequired,\r\n    returnSelectedFlight: PropTypes.object.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n    enqueueSnackBar: PropTypes.func.isRequired,\r\n    twoWayRequest: PropTypes.bool.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  openSearchForm = () => {\r\n    this.setState(state => ({ isOpen: !state.isOpen }));\r\n  }\r\n\r\n  goToNextPage = () => {\r\n    if (this.props.twoWayRequest && this.props.selectedFlight.id && this.props.returnSelectedFlight.id) {\r\n      return this.props.history.push('/passengers-list');\r\n    }\r\n    if (!this.props.twoWayRequest && this.props.selectedFlight.id) {\r\n      return this.props.history.push('/passengers-list');\r\n    }\r\n\r\n    return this.props.enqueueSnackBar({\r\n      message: 'Choose flight',\r\n      options: {\r\n        variant: 'warning',\r\n      },\r\n    });\r\n  };\r\n\r\n  getPassAmount = (adult, child, infant) => {\r\n    const passengers = adult + child + infant;\r\n    const str = passengers > 1\r\n      ? `${passengers} passengers`\r\n      : `${passengers} passenger`;\r\n    return str;\r\n  }\r\n\r\n  render() {\r\n    const { classes, tickets, returnTickets, twoWayRequest, request } = this.props;\r\n    const {\r\n      from, to, adult, child, infant, departure, return: back,\r\n    } = request;\r\n    const departureDate = moment(departure).format('MMMM DD');\r\n    const backDate = moment(back).format('MMMM DD');\r\n\r\n    return (\r\n      <div className=\"flights-container\">\r\n        {from ? (\r\n          <div className=\"flights-list__bar\">\r\n            <AppBar className={classes.root} position=\"fixed\" color=\"default\">\r\n              <Toolbar>\r\n                <div className=\"text-wrapper\">\r\n                  <Typography variant=\"h6\" color=\"inherit\">\r\n                    {from} to {to}\r\n                  </Typography>\r\n                  <Typography color=\"inherit\">\r\n                    {departureDate}{backDate && ' - ' }{back && backDate}, {this.getPassAmount(adult, child, infant)}\r\n                    <button className=\"change-button\" type=\"button\" onClick={this.openSearchForm}>\r\n                      Change\r\n                    </button>\r\n                  </Typography>\r\n                </div>\r\n              </Toolbar>\r\n            </AppBar>\r\n\r\n            <SearchForm state={this.state.isOpen} onSearchClick={this.openSearchForm} />\r\n          </div>\r\n        )\r\n          : <h1 className=\"flights-list__header\">Please, try to search flights</h1>}\r\n\r\n        <>\r\n          {tickets[0] && <h1 className=\"flights-list__header\"><pre>{from} - {to}   |   {moment(departure).format('MMMM DD')}</pre></h1>}\r\n          <List className=\"flights-list\" disablePadding>\r\n            <FlightsListItems\r\n              classes={classes}\r\n              flights={tickets}\r\n              setFlightInfo={this.props.setSelectedFlightInfo}\r\n            />\r\n          </List>\r\n          {twoWayRequest && returnTickets[0] && <h1 className=\"flights-list__header\"><pre>{to} - {from}   |   {backDate}</pre></h1>}\r\n          <List className=\"flights-list\" disablePadding>\r\n            <FlightsListItems\r\n              classes={classes}\r\n              flights={this.props.returnTickets}\r\n              setFlightInfo={this.props.setReturnSelectedFlightInfo}\r\n            />\r\n          </List>\r\n        </>\r\n        {tickets[0] && <button type=\"button\" className=\"button\" onClick={this.goToNextPage}>Continue</button>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  twoWayRequest: state.user.requestInfo.request.twoWayRequest,\r\n  request: state.user.requestInfo.request,\r\n  tickets: state.searchPage.tickets.departureItems,\r\n  returnTickets: state.searchPage.tickets.returnItems,\r\n  selectedFlight: state.user.selectedFlight,\r\n  returnSelectedFlight: state.user.returnSelectedFlight,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setSelectedFlightInfo: flightInfo => dispatch(setSelectedFlightInfo(flightInfo)),\r\n  setReturnSelectedFlightInfo: flightInfo => dispatch(setReturnSelectedFlightInfo(flightInfo)),\r\n  enqueueSnackBar: obj => dispatch(enqueueSnackbar(obj)),\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withStyles(styles),\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(FlightsList);\r\n","const styles = theme => ({\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    backgroundColor: theme.palette.common.white,\r\n    width: 200,\r\n  },\r\n  dense: {\r\n    marginTop: 19,\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n    marginTop: 20,\r\n  },\r\n});\r\n\r\nexport default styles;\r\n","const validate = (values) => {\r\n  const errors = {};\r\n  if (!values.email) {\r\n    errors.email = 'Required';\r\n  }\r\n  if (!values.password) {\r\n    errors.password = 'Required';\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validate;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { FaUserCheck } from 'react-icons/fa';\r\nimport { withSnackbar } from 'notistack';\r\nimport { authoriseUser } from '../../redux/user/actions';\r\nimport styles from './material.style';\r\nimport TextField from '../text-field';\r\nimport validate from './validate';\r\nimport './index.scss';\r\nimport '../../styles/button.scss';\r\n\r\nclass Login extends React.Component {\r\n  static propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n    authoriseUser: PropTypes.func.isRequired,\r\n    loggedInUser: PropTypes.bool.isRequired,\r\n  };\r\n\r\n  componentDidUpdate = () => this.props.loggedInUser && this.props.history.goBack();\r\n\r\n  componentDidMount= () => this.props.loggedInUser && this.props.history.goBack();\r\n\r\n  handleChange = name => (event) => {\r\n    this.setState({ [name]: event.target.value });\r\n  };\r\n\r\n  onSubmit = (values) => {\r\n    this.props.authoriseUser(values);\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Form\r\n        onSubmit={this.onSubmit}\r\n        validate={validate}\r\n        render={({ handleSubmit }) => (\r\n          <form className=\"login-form\" onSubmit={handleSubmit}>\r\n            <div className=\"login-form__container\">\r\n              <FaUserCheck className=\"login-form__icon\" />\r\n              <h1 className=\"login-form__header\">Login</h1>\r\n              <Field\r\n                name=\"email\"\r\n                component={TextField}\r\n                className={classes.textField}\r\n                type=\"email\"\r\n                label=\"Email\"\r\n                margin=\"dense\"\r\n                variant=\"outlined\"\r\n              />\r\n              <Field\r\n                name=\"password\"\r\n                component={TextField}\r\n                className={classes.textField}\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                margin=\"dense\"\r\n                variant=\"outlined\"\r\n              />\r\n              <button className=\"button\" type=\"submit\">\r\n                Login\r\n              </button>\r\n\r\n              <Link to=\"/register\" className=\"login-form__register-link\">Registration</Link>\r\n            </div>\r\n          </form>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedInUser: state.user.requestInfo.loggedInUser,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  authoriseUser: userInfo => dispatch(authoriseUser(userInfo)),\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withStyles(styles),\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(withSnackbar(Login));\r\n","const styles = theme => ({\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 200,\r\n  },\r\n  dense: {\r\n    marginTop: 19,\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n});\r\n\r\nexport default styles;\r\n","const validate = (values) => {\r\n  const errors = {};\r\n  if (!values.firstName) {\r\n    errors.firstName = 'Required';\r\n  }\r\n  if (!values.lastName) {\r\n    errors.lastName = 'Required';\r\n  }\r\n  if (!values.email) {\r\n    errors.email = 'Required';\r\n  }\r\n  if (!values.password) {\r\n    errors.password = 'Required';\r\n  } else if (values.password.length < 8) {\r\n    errors.password = 'Less than 8 signs';\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validate;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { FaUserPlus } from 'react-icons/fa';\r\nimport { authoriseUser } from '../../redux/user/actions';\r\nimport styles from './material.style';\r\nimport TextField from '../text-field';\r\nimport validate from './validate';\r\nimport './index.scss';\r\nimport '../../styles/button.scss';\r\n\r\nclass Register extends React.Component {\r\n  static propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    authoriseUser: PropTypes.func.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n    loggedInUser: PropTypes.bool.isRequired,\r\n  };\r\n\r\n  componentDidUpdate = () => this.props.loggedInUser && this.props.history.goBack();\r\n\r\n  handleChange = name => (event) => {\r\n    this.setState({ [name]: event.target.value });\r\n  };\r\n\r\n  onSubmit = values => this.props.authoriseUser(values);\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Form\r\n        onSubmit={this.onSubmit}\r\n        validate={validate}\r\n        render={({ handleSubmit }) => (\r\n          <form className=\"register-form\" onSubmit={handleSubmit}>\r\n            <div className=\"register-form__container\">\r\n              <FaUserPlus className=\"register-form__icon\" />\r\n              <h1 className=\"register-form__header\">Register</h1>\r\n              <Field\r\n                name=\"firstName\"\r\n                component={TextField}\r\n                className={classes.textField}\r\n                type=\"text\"\r\n                label=\"First Name\"\r\n                margin=\"dense\"\r\n                variant=\"outlined\"\r\n              />\r\n              <Field\r\n                name=\"lastName\"\r\n                component={TextField}\r\n                className={classes.textField}\r\n                type=\"text\"\r\n                label=\"Last Name\"\r\n                margin=\"dense\"\r\n                variant=\"outlined\"\r\n              />\r\n              <Field\r\n                name=\"email\"\r\n                component={TextField}\r\n                className={classes.textField}\r\n                type=\"email\"\r\n                label=\"Email\"\r\n                margin=\"dense\"\r\n                variant=\"outlined\"\r\n              />\r\n              <Field\r\n                name=\"password\"\r\n                component={TextField}\r\n                className={classes.textField}\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                margin=\"dense\"\r\n                variant=\"outlined\"\r\n              />\r\n\r\n              <button className=\"button\" type=\"submit\">\r\n                Register\r\n              </button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedInUser: state.user.requestInfo.loggedInUser,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  authoriseUser: userInfo => dispatch(authoriseUser(userInfo)),\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withStyles(styles),\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(Register);\r\n","const styles = theme => ({\r\n  textField: {\r\n    // display: 'block',\r\n    marginBottom: theme.spacing.unit,\r\n    backgroundColor: theme.palette.common.white,\r\n    width: 240,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 210,\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 240,\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: 270,\r\n    },\r\n  },\r\n  hiddenTextField: {\r\n    display: 'none',\r\n  },\r\n\r\n  selectField: {\r\n    backgroundColor: theme.palette.common.white,\r\n    marginBottom: theme.spacing.unit,\r\n    width: 240,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 210,\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 240,\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: 270,\r\n    },\r\n  },\r\n\r\n  passengers: {\r\n    backgroundColor: theme.palette.common.white,\r\n    width: 80,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 70,\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 80,\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: 90,\r\n    },\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing.unit * 2,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n    marginTop: 20,\r\n  },\r\n});\r\n\r\nexport default styles;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\r\nimport { airportsFetchData } from '../../redux/search/airports/actions';\r\nimport { ticketsFetchData } from '../../redux/search/tickets/actions';\r\nimport styles from './material.style';\r\n\r\nimport validate from './validate';\r\nimport DatePicker from '../date-picker';\r\nimport SimpleSelect from '../select';\r\nimport TextField from '../text-field';\r\nimport './index.scss';\r\n\r\nclass Search extends React.Component {\r\n  static propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    airports: PropTypes.array.isRequired,\r\n    ticketsFetchData: PropTypes.func.isRequired,\r\n    airportsFetchData: PropTypes.func.isRequired,\r\n    tickets: PropTypes.array.isRequired,\r\n    returnTickets: PropTypes.array.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n    userRequest: PropTypes.object.isRequired,\r\n  };\r\n\r\n  state = {\r\n    oneWayType: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    return this.props.airports.length || this.props.airportsFetchData('http://localhost:3001/airports');\r\n  }\r\n\r\n  componentDidUpdate = () => {\r\n    const { twoWayRequest } = this.props.userRequest;\r\n    return twoWayRequest\r\n      ? this.props.tickets.length && this.props.returnTickets.length && this.props.history.push('/flights-list')\r\n      : this.props.tickets.length && this.props.history.push('/flights-list');\r\n  }\r\n\r\n  onSubmit = values => this.props.ticketsFetchData(values);\r\n\r\n  setWayType = () => this.setState(state => ({ oneWayType: !state.oneWayType }));\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"search-form-container\">\r\n        <Form\r\n          onSubmit={this.onSubmit}\r\n          validate={validate}\r\n          render={({ handleSubmit }) => (\r\n            <form className=\"search-form\" onSubmit={handleSubmit}>\r\n              <Field\r\n                name=\"from\"\r\n                label=\"From\"\r\n                className={classes.selectField}\r\n                component={SimpleSelect}\r\n                items={this.props.airports}\r\n              />\r\n\r\n              <Field\r\n                name=\"to\"\r\n                label=\"To\"\r\n                className={classes.selectField}\r\n                component={SimpleSelect}\r\n                items={this.props.airports}\r\n              />\r\n\r\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <Field\r\n                  name=\"departure\"\r\n                  label=\"Departure\"\r\n                  className={classes.textField}\r\n                  component={DatePicker}\r\n                  variant=\"outlined\"\r\n                />\r\n              </MuiPickersUtilsProvider>\r\n\r\n              <Field\r\n                name=\"wayType\"\r\n                className=\"way-type\"\r\n                component=\"input\"\r\n                type=\"checkbox\"\r\n                variant=\"outlined\"\r\n                value=\"2\"\r\n                onClick={this.setWayType}\r\n              />\r\n\r\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <Field\r\n                  name=\"return\"\r\n                  label=\"Return\"\r\n                  className={classNames(classes.textField, {\r\n                    [classes.hiddenTextField]: this.state.oneWayType,\r\n                  })}\r\n                  component={DatePicker}\r\n                  variant=\"outlined\"\r\n                />\r\n              </MuiPickersUtilsProvider>\r\n\r\n              <div className=\"passengers-counters\">\r\n                <Field\r\n                  name=\"adult\"\r\n                  label=\"Passengers\"\r\n                  className={classes.textField}\r\n                  component={TextField}\r\n                  variant=\"outlined\"\r\n                />\r\n                {/* <Field\r\n                  name=\"child\"\r\n                  label=\"Child\"\r\n                  className={classes.passengers}\r\n                  component={TextField}\r\n                  variant=\"outlined\"\r\n                />\r\n                <Field\r\n                  name=\"infant\"\r\n                  label=\"Infant\"\r\n                  className={classes.passengers}\r\n                  component={TextField}\r\n                  variant=\"outlined\"\r\n                /> */}\r\n              </div>\r\n\r\n              <Button variant=\"contained\" color=\"primary\" className={classes.button} type=\"submit\">\r\n                Search\r\n              </Button>\r\n            </form>\r\n          )}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  userRequest: state.user.requestInfo.request,\r\n  tickets: state.searchPage.tickets.departureItems,\r\n  returnTickets: state.searchPage.tickets.returnItems,\r\n  ticketsHasErrored: state.searchPage.tickets.hasErrored,\r\n  ticketsIsLoading: state.searchPage.tickets.isLoading,\r\n  airports: state.searchPage.airports.items,\r\n  airportsHaveErrored: state.searchPage.airports.hasErrored,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  ticketsFetchData: request => dispatch(ticketsFetchData(request)),\r\n  airportsFetchData: url => dispatch(airportsFetchData(url)),\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withStyles(styles),\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(Search);\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Person from '@material-ui/icons/Person';\r\nimport './index.scss';\r\n\r\nexport default class PassengersCounters extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      adult: 0,\r\n      child: 0,\r\n      infant: 0,\r\n    };\r\n  }\r\n\r\n  addPassenger = () => {}\r\n\r\n  removePassenger = () => {}\r\n\r\n  render() {\r\n    const passengersTypes = ['adult', 'child', 'infant'];\r\n\r\n    return (\r\n      <div className=\"counters\">\r\n        <div className=\"counters__container\">\r\n          <div className=\"counters__icon\">\r\n            <Person />\r\n          </div>\r\n          {passengersTypes.map(type => (\r\n            <div className=\"counter__wrapper\" key={Math.random()}>\r\n              <button type=\"button\" className=\"counter__button counter__button_minus\">-</button>\r\n              <div className=\"counter__info\">{this.state[type]} {type}</div>\r\n              <button type=\"button\" className=\"counter__button counter__button_plus\">+</button>\r\n            </div>\r\n          ))}\r\n\r\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n            OK\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import actionTypes from '../actionTypes';\r\n\r\nfunction getLuggageTypes(luggageTypes) {\r\n  return {\r\n    type: actionTypes.GET_LUGGAGE_TYPES,\r\n    luggageTypes,\r\n  };\r\n}\r\n\r\nfunction hasErrored(bool) {\r\n  return {\r\n    type: actionTypes.LUGGAGE_HAS_ERRORED,\r\n    bool,\r\n  };\r\n}\r\n\r\nexport default function fetchLuggageTypes() {\r\n  return (dispatch) => {\r\n    fetch('http://localhost:3001/luggage-types')\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw Error('Info is not found');\r\n        }\r\n\r\n        return response;\r\n      })\r\n      .then(response => response.json())\r\n      .then(luggageTypes => dispatch(getLuggageTypes(luggageTypes)))\r\n      .catch(() => dispatch(hasErrored(true)));\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'react-final-form';\r\nimport fetchLuggageTypes from '../../../../../redux/data/luggage-types/actions';\r\nimport './index.scss';\r\n\r\nclass Luggage extends React.Component {\r\n  static propTypes = {\r\n    index: PropTypes.number.isRequired,\r\n    luggageTypes: PropTypes.array.isRequired,\r\n    fetchLuggageTypes: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount = () => this.props.fetchLuggageTypes();\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"luggage-list\">\r\n        {this.props.luggageTypes.map(({ kg, price }, index) => (\r\n          <div key={index} className=\"luggage-list__checkbox\">\r\n            <div className={`image${kg} image${kg}_active`} />\r\n            <label htmlFor={price} key={Math.random()} className={`luggage-list__label luggage-list__label_${kg}`}>\r\n              <Field\r\n                id={price}\r\n                name={`luggage${this.props.index}`}\r\n                component=\"input\"\r\n                type=\"radio\"\r\n                value={`${price}`}\r\n              />{' '}\r\n              <div className=\"luggage-list__kg\">{`${kg === 0 ? 'no baggage' : `kg ${kg}`}`}</div>\r\n              <div className=\"luggage-list__price\">{`${price === 0 ? 'free' : `$ ${price}`}`}</div>\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  luggageTypes: state.data.luggage.luggageTypes,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchLuggageTypes: () => dispatch(fetchLuggageTypes()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Luggage);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Field } from 'react-final-form';\r\nimport TextField from '../../../text-field';\r\nimport Luggage from './luggage';\r\nimport './index.scss';\r\n\r\nexport default function Details({ index }) {\r\n  const requiredArray = value => value && value.length > 0 ? undefined : 'Required';\r\n\r\n  return (\r\n    <div className=\"expandable-panel-details\">\r\n      <div className=\"expandable-panel-details__names\">\r\n        <Field\r\n          name={`firstname${index}`}\r\n          validate={requiredArray}\r\n          label=\"First Name\"\r\n          component={TextField}\r\n          type=\"text\"\r\n          margin=\"dense\"\r\n        />\r\n        <Field\r\n          name={`lastname${index}`}\r\n          validate={requiredArray}\r\n          label=\"Last Name\"\r\n          component={TextField}\r\n          type=\"text\"\r\n          margin=\"dense\"\r\n        />\r\n      </div>\r\n      <Luggage index={index} />\r\n    </div>\r\n  );\r\n}\r\n\r\nDetails.propTypes = {\r\n  index: PropTypes.number.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FaUser } from 'react-icons/fa';\r\nimport './index.scss';\r\n\r\nexport default function Header({ index }) {\r\n  Header.propTypes = {\r\n    index: PropTypes.number.isRequired,\r\n  };\r\n\r\n  return (\r\n    <div className=\"expandable-panel__header\">\r\n      <FaUser className=\"expandable-panel__header-icon\" />\r\n      <span className=\"expandable-panel__header-text\">{index + 1} passenger</span>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport './index.scss';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: 'transparent',\r\n    padding: '12px',\r\n    paddingBottom: '30px',\r\n  },\r\n});\r\n\r\nfunction HorizontalStepper(props) {\r\n  HorizontalStepper.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    activeStep: PropTypes.number.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n  };\r\n\r\n  const { classes, activeStep } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Stepper className={classes.root} activeStep={activeStep} alternativeLabel>\r\n        <Step>\r\n          <StepLabel>Passengers</StepLabel>\r\n        </Step>\r\n        <Step>\r\n          <StepLabel>Seats</StepLabel>\r\n        </Step>\r\n        <Step>\r\n          <StepLabel>Order</StepLabel>\r\n        </Step>\r\n        <Step>\r\n          <StepLabel>Payment</StepLabel>\r\n        </Step>\r\n        <Step>\r\n          <StepLabel>Success</StepLabel>\r\n        </Step>\r\n      </Stepper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withStyles(styles)\r\n)(HorizontalStepper);\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { Form } from 'react-final-form';\r\nimport arrayMutators from 'final-form-arrays';\r\nimport { FieldArray } from 'react-final-form-arrays';\r\nimport PropTypes from 'prop-types';\r\nimport { setPassengersInfo } from '../../redux/user/selectedFlight/actions';\r\nimport { setReturnFlightPassengersInfo } from '../../redux/user/returnSelectedFlight/actions';\r\nimport './index.scss';\r\nimport Details from './expandable-panel/details';\r\nimport Header from './expandable-panel/header';\r\nimport { resetTicketsInfo } from '../../redux/search/tickets/actions';\r\nimport HorizontalStepper from '../stepper';\r\n\r\nclass PassengersList extends Component {\r\n  static propTypes = {\r\n    userRequest: PropTypes.object.isRequired,\r\n    luggageTypes: PropTypes.array.isRequired,\r\n    setPassengersInfo: PropTypes.func.isRequired,\r\n    setReturnFlightPassengersInfo: PropTypes.func.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n  };\r\n\r\n  onSubmit = (values) => {\r\n    const passengers = Object.keys(values).sort().map(key => values[key]);\r\n\r\n    const passengersArray = [];\r\n    const passAmount = passengers.length / 3;\r\n\r\n    for (let i = 0; i < passAmount; i++) {\r\n      const obj = {\r\n        firstname: passengers[i],\r\n        lastname: passengers[i + passAmount],\r\n        luggagePrice: passengers[i + passAmount * 2],\r\n      };\r\n      passengersArray.push(obj);\r\n    }\r\n\r\n    const { history } = this.props;\r\n    passengersArray.map(passenger => this.props.luggageTypes.forEach((type) => {\r\n      if (type.price === +passenger.luggagePrice) {\r\n        passenger.luggagePrice = type.price;\r\n        passenger.luggageKg = type.kg;\r\n      }\r\n    }));\r\n    this.props.setPassengersInfo(passengersArray);\r\n    this.props.setReturnFlightPassengersInfo(passengersArray);\r\n    return history.push('/passengers-seats');\r\n  };\r\n\r\n  render() {\r\n    const { adult, child, infant } = this.props.userRequest;\r\n    const passengersAmount = new Array(adult + child + infant).fill(1);\r\n\r\n    return (\r\n      <>\r\n        <HorizontalStepper activeStep={0} />\r\n\r\n        <Form\r\n          onSubmit={this.onSubmit}\r\n          mutators={{\r\n            ...arrayMutators,\r\n          }}\r\n          render={({ handleSubmit },\r\n            pristine, submitting) => (\r\n              <form\r\n                onSubmit={handleSubmit}\r\n                className=\"passengers-list-form\"\r\n              >\r\n                <FieldArray name=\"information\">\r\n                  {() => (passengersAmount.map((elem, index) => (\r\n                    <div className=\"expandable-panel\" key={index}>\r\n                      <Header index={index} />\r\n                      <Details index={index} />\r\n                    </div>\r\n                  )))}\r\n                </FieldArray>\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"button\"\r\n                  disabled={submitting || pristine}\r\n                >\r\n                  Confirm\r\n                </button>\r\n              </form>\r\n          )}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  userRequest: state.user.requestInfo.request,\r\n  luggageTypes: state.data.luggage.luggageTypes,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setPassengersInfo: info => dispatch(setPassengersInfo(info)),\r\n  setReturnFlightPassengersInfo: info => dispatch(setReturnFlightPassengersInfo(info)),\r\n  resetTicketsInfo: () => dispatch(resetTicketsInfo()),\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(PassengersList);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.scss';\r\n\r\nfunction PassengersSeatsTable({ flight, passengersInfo, setSelectedPassenger, selectedPassenger }) {\r\n  PassengersSeatsTable.propTypes = {\r\n    flight: PropTypes.object.isRequired,\r\n    passengersInfo: PropTypes.array.isRequired,\r\n    setSelectedPassenger: PropTypes.func.isRequired,\r\n    selectedPassenger: PropTypes.number.isRequired,\r\n  };\r\n\r\n  const select = event => setSelectedPassenger(+event.target.id);\r\n\r\n  return (\r\n    <div className=\"passenger-seats-container\">\r\n      <table className=\"passengers-seats\">\r\n        <tbody>\r\n          <tr>\r\n            <th className=\"th\" colSpan=\"2\">\r\n              {flight.fromCountry} - {flight.toCountry}\r\n            </th>\r\n          </tr>\r\n          {passengersInfo.map(({ firstname, lastname }, index) => (\r\n            <tr key={index} className={`passengers-seats__passenger ${selectedPassenger === index ? 'selected' : ''}`}>\r\n              <td className=\"passengers-seats__info td\">{firstname} {lastname}</td>\r\n              <td\r\n                id={index}\r\n                className=\"passengers-seats__seat td\"\r\n                onClick={select}\r\n              >\r\n                {passengersInfo[index].selectedSeat || 'seat'}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PassengersSeatsTable;\r\n","import React from 'react';\r\nimport './index.scss';\r\n\r\nfunction PlaneSeats({\r\n  rows, location, selectedPassenger, passengersInfo, setInfo, soldSeats,\r\n}) {\r\n  const rowss = new Array(rows).fill(1);\r\n\r\n  const selectSeat = (event) => {\r\n    const { id } = event.target;\r\n\r\n    const newInfo = passengersInfo.map((passenger, index) => {\r\n      if (index === selectedPassenger) {\r\n        return { ...passenger, selectedSeat: id };\r\n      }\r\n      return passenger;\r\n    });\r\n\r\n    setInfo(newInfo);\r\n  };\r\n  const selectedSeats = passengersInfo.map(({ selectedSeat }) => selectedSeat);\r\n\r\n  return (\r\n    rowss.map((elem, index) => (\r\n      <div key={index} className=\"row seats\">\r\n        {location.map((place, j) => {\r\n          const id = index + 1 + location[j];\r\n          const isDisable = soldSeats.some(seat => seat === id);\r\n          const isSelected = selectedSeats.some(seat => seat === id);\r\n          return (place ? (\r\n            <div\r\n              id={id}\r\n              key={index + j}\r\n              className={`seat${isDisable ? ' disabled' : ''}${isSelected ? ' selectedSeat' : ''}`}\r\n              onClick={isDisable || isSelected ? null : selectSeat}\r\n            >\r\n              <span id={id} className=\"seat-point\">{id}</span>\r\n              {isDisable ? null : <span className=\"tooltiptext\">$9</span>}\r\n            </div>\r\n          )\r\n            : <div key={Math.random()} className=\"empty\">{index + 1}</div>);\r\n        })}\r\n      </div>\r\n    ))\r\n  );\r\n}\r\n\r\nexport default PlaneSeats;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function SeatsSigns({ signs }) {\r\n  SeatsSigns.propTypes = {\r\n    signs: PropTypes.array.isRequired,\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      {signs.map(sign => (sign\r\n        ? <div key={Math.random()} className=\"sign seat\"><span className=\"sign seat\">{sign}</span></div>\r\n        : <div key={Math.random()} className=\"empty\" />))}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PlaneSeats from './plane-seats';\r\nimport SeatsSigns from './seats-signs';\r\nimport './index.scss';\r\n\r\nfunction Plane({\r\n  setInfo, location, rows, passengersInfo, selectedPassenger, soldSeats,\r\n}) {\r\n  Plane.propTypes = {\r\n    rows: PropTypes.number.isRequired,\r\n    location: PropTypes.array.isRequired,\r\n    passengersInfo: PropTypes.array.isRequired,\r\n    selectedPassenger: PropTypes.number.isRequired,\r\n    soldSeats: PropTypes.array.isRequired,\r\n    setInfo: PropTypes.func.isRequired,\r\n  };\r\n\r\n  return (\r\n    <div className=\"plane\">\r\n      <div className=\"plane__cockpit\" />\r\n      <div className=\"plane__exit plane__exit_front\" />\r\n      <SeatsSigns signs={location} />\r\n      <PlaneSeats\r\n        setInfo={setInfo}\r\n        rows={rows}\r\n        location={location}\r\n        passengersInfo={passengersInfo}\r\n        selectedPassenger={selectedPassenger}\r\n        soldSeats={soldSeats}\r\n      />\r\n      <div className=\"plane__exit plane__exit_back\" />\r\n      <div className=\"plane__cockpit_invert\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Plane;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { setSelectedPassenger, setPassengersInfo } from '../../redux/user/selectedFlight/actions';\r\nimport { setReturnFlightSelectedPassenger, setReturnFlightPassengersInfo } from '../../redux/user/returnSelectedFlight/actions';\r\nimport { enqueueSnackbar } from '../../redux/notifier/actions';\r\nimport PassengersSeatsTable from './passengers-seats-table';\r\nimport Plane from './plane';\r\nimport HorizontalStepper from '../stepper';\r\nimport './index.scss';\r\n\r\nclass SeatsChoice extends React.Component {\r\n  static propTypes = {\r\n    history: PropTypes.object.isRequired,\r\n    selectedFlight: PropTypes.object.isRequired,\r\n    returnSelectedFlight: PropTypes.object.isRequired,\r\n    setSelectedPassenger: PropTypes.func.isRequired,\r\n    setPassengersInfo: PropTypes.func.isRequired,\r\n    setReturnFlightSelectedPassenger: PropTypes.func.isRequired,\r\n    setReturnFlightPassengersInfo: PropTypes.func.isRequired,\r\n    twoWayRequest: PropTypes.bool.isRequired,\r\n  };\r\n\r\n  state = {\r\n    currentFlightId: this.props.selectedFlight.id,\r\n  };\r\n\r\n  goToNextPage = () => {\r\n    if (this.state.currentFlightId === this.props.selectedFlight.id) {\r\n      const allSeatAreSelected = this.props.selectedFlight.passengersInfo.some(({ selectedSeat }) => selectedSeat === undefined);\r\n      // this.props.enqueueSnackBar({\r\n      //   message: 'Select seats',\r\n      //   options: {\r\n      //     variant: 'warning',\r\n      //   },\r\n      // });\r\n\r\n      if (!allSeatAreSelected) {\r\n        return this.props.twoWayRequest\r\n          ? this.setState({ currentFlightId: this.props.returnSelectedFlight.id })\r\n          : this.props.history.push('/order-details');\r\n      }\r\n    } else {\r\n      const allSeatAreSelected = this.props.returnSelectedFlight.passengersInfo.some(({ selectedSeat }) => selectedSeat === undefined);\r\n      return !allSeatAreSelected && this.props.history.push('/order-details');\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      selectedFlight,\r\n      returnSelectedFlight,\r\n      setSelectedPassenger,\r\n      setPassengersInfo,\r\n      setReturnFlightSelectedPassenger,\r\n      setReturnFlightPassengersInfo,\r\n    } = this.props;\r\n\r\n    console.log(selectedFlight);\r\n\r\n    return (\r\n      <>\r\n        <HorizontalStepper activeStep={1} />\r\n        <div className=\"seats-choice-wrapper\">\r\n          <div className=\"seats-choice-container\">\r\n            <div className={`flight-seats${this.state.currentFlightId === selectedFlight.id ? '' : ' closed-block'}`}>\r\n              <PassengersSeatsTable\r\n                flight={selectedFlight}\r\n                passengersInfo={selectedFlight.passengersInfo}\r\n                setSelectedPassenger={setSelectedPassenger}\r\n                selectedPassenger={selectedFlight.selectedPassenger}\r\n              />\r\n              <Plane\r\n                setInfo={setPassengersInfo}\r\n                rows={selectedFlight.planeInfo.rowsNumber}\r\n                location={selectedFlight.planeInfo.seatsInRow}\r\n                passengersInfo={selectedFlight.passengersInfo}\r\n                selectedPassenger={selectedFlight.selectedPassenger}\r\n                soldSeats={selectedFlight.soldSeats}\r\n              />\r\n            </div>\r\n\r\n            {returnSelectedFlight.id && (\r\n              <div className={`flight-seats${this.state.currentFlightId === returnSelectedFlight.id ? '' : ' closed-block'}`}>\r\n                <PassengersSeatsTable\r\n                  flight={returnSelectedFlight}\r\n                  passengersInfo={returnSelectedFlight.passengersInfo}\r\n                  setSelectedPassenger={setReturnFlightSelectedPassenger}\r\n                  selectedPassenger={returnSelectedFlight.selectedPassenger}\r\n                />\r\n                <Plane\r\n                  setInfo={setReturnFlightPassengersInfo}\r\n                  rows={returnSelectedFlight.planeInfo.rowsNumber}\r\n                  location={returnSelectedFlight.planeInfo.seatsInRow}\r\n                  passengersInfo={returnSelectedFlight.passengersInfo}\r\n                  selectedPassenger={returnSelectedFlight.selectedPassenger}\r\n                  soldSeats={returnSelectedFlight.soldSeats}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n          </div>\r\n          <button type=\"button\" className=\"button\" onClick={this.goToNextPage}>Continue</button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  twoWayRequest: state.user.requestInfo.request.twoWayRequest,\r\n  selectedFlight: state.user.selectedFlight,\r\n  returnSelectedFlight: state.user.returnSelectedFlight,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setSelectedPassenger: id => dispatch(setSelectedPassenger(id)),\r\n  setPassengersInfo: info => dispatch(setPassengersInfo(info)),\r\n  setReturnFlightSelectedPassenger: id => dispatch(setReturnFlightSelectedPassenger(id)),\r\n  setReturnFlightPassengersInfo: info => dispatch(setReturnFlightPassengersInfo(info)),\r\n  enqueueSnackBar: obj => dispatch(enqueueSnackbar(obj)),\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(SeatsChoice);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from 'react-router';\r\nimport { FaCheck, FaRegUserCircle } from 'react-icons/fa';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport HorizontalStepper from '../stepper';\r\nimport './index.scss';\r\n\r\nfunction OrderDetails({\r\n  requestInfo, selectedFlight, returnSelectedFlight, history,\r\n}) {\r\n  OrderDetails.propTypes = {\r\n    requestInfo: PropTypes.object.isRequired,\r\n    selectedFlight: PropTypes.object.isRequired,\r\n    returnSelectedFlight: PropTypes.object.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n  };\r\n\r\n  const flights = requestInfo.twoWayRequest ? [selectedFlight, returnSelectedFlight] : [selectedFlight];\r\n  const { adult, child, infant } = requestInfo;\r\n  const passengersAmount = adult + child + infant;\r\n\r\n  const getTicketPrice = passengersInfo => passengersInfo.reduce((total, { luggagePrice: price }) => total + price, 0);\r\n\r\n  const goToPaymentPage = () => history.push('/payment');\r\n\r\n  return (\r\n    <>\r\n      <HorizontalStepper activeStep={2} />\r\n      <section className=\"order-details\">\r\n        <div className=\"order-details-wrapper\">\r\n          {flights.map(({\r\n            date, fromCountry, toCountry, startTime, endTime, price, passengersInfo,\r\n          }, index) => (\r\n            <div key={index} className={flights.length === 1 ? 'one-ticket' : 'two-tickets'}>\r\n              <section className=\"order-details__flight\">\r\n                <div className=\"order-details__header\">\r\n                  <FaCheck className=\"order-details__icon\" />\r\n                  <span className=\"order-details__text\">Flight</span>\r\n                </div>\r\n\r\n                <div className=\"flight-info\">\r\n                  <span className=\"flight-info__date\">{moment(date).format('MMM Do')}</span>\r\n                  <div className=\"flight-info__wrapper\">\r\n                    <span className=\"flight-info__direction\">{fromCountry} - {toCountry}</span>\r\n                    <span className=\"flight-info__time\">{moment(startTime).format('LT')} - {moment(endTime).format('LT')}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"about-price\">\r\n                  <span className=\"about-price__text\">{passengersAmount} x Flight ticket</span>\r\n                  <span className=\"about-price__amount\">$ {price * passengersAmount}</span>\r\n                </div>\r\n              </section>\r\n\r\n              <section className=\"order-details__passengers\">\r\n                <div className=\"order-details__header\">\r\n                  <FaCheck className=\"order-details__icon\" />\r\n                  <span className=\"order-details__text\">Passengers</span>\r\n                </div>\r\n\r\n                {passengersInfo.map((passenger, i) => (\r\n                  <div className=\"passengers-info\" key={i}>\r\n                    <div className=\"passengers-info__about\">\r\n                      <FaRegUserCircle className=\"passengers-info__icon\" />\r\n                      <span className=\"passengers-info__name\">{passenger.firstname} {passenger.lastname}</span>\r\n                    </div>\r\n\r\n                    <div className=\"about-price\">\r\n                      <span className=\"about-price__text\">Luggage {passenger.luggageKg === 0 ? '' : ` - ${passenger.luggageKg} kg`}</span>\r\n                      <span className=\"about-price__amount\">$ {passenger.luggagePrice}</span>\r\n                    </div>\r\n\r\n                    <div className=\"about-price\">\r\n                      <span className=\"about-price__text\">Seat - {passenger.selectedSeat}</span>\r\n                      <span className=\"about-price__amount\">included</span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </section>\r\n\r\n              <section className=\"order-details__total-price\">\r\n                <span className=\"total-price__text\">Total</span>\r\n                <span className=\"total-price__amount\">$ {price * passengersAmount + getTicketPrice(passengersInfo)}</span>\r\n              </section>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <button type=\"button\" className=\"button\" onClick={goToPaymentPage}>Confirm</button>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  requestInfo: state.user.requestInfo.request,\r\n  selectedFlight: state.user.selectedFlight,\r\n  returnSelectedFlight: state.user.returnSelectedFlight,\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps),\r\n)(OrderDetails);\r\n","const validate = (values) => {\r\n  const errors = {};\r\n\r\n  if (!values.number) {\r\n    errors.number = 'Please add the card number';\r\n  }\r\n\r\n  if (!values.name) {\r\n    errors.name = 'Please ass the cardholder name';\r\n  }\r\n\r\n  if (!values.month) {\r\n    errors.month = 'Required';\r\n  }\r\n\r\n  if (!values.year) {\r\n    errors.year = 'Required';\r\n  }\r\n\r\n  if (!values.code) {\r\n    errors.code = 'Please add CVC2/CVV number';\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default validate;\r\n","import React from 'react';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport PropTypes from 'prop-types';\r\nimport { FaCcVisa, FaCcMastercard, FaRegCreditCard, FaUser, FaRegClock, FaUnlock } from 'react-icons/fa';\r\nimport { Form, Field } from 'react-final-form';\r\nimport validate from './validate';\r\nimport TextField from '../text-field';\r\nimport SimpleSelect from '../select';\r\nimport HorizontalStepper from '../stepper';\r\nimport { payForOrder } from '../../redux/user/actions';\r\nimport './index.scss';\r\n\r\nfunction Payment({\r\n  history, userRequest, payForOrder, selectedFlight, returnSelectedFlight,\r\n}) {\r\n  Payment.propTypes = {\r\n    history: PropTypes.object.isRequired,\r\n    userRequest: PropTypes.object.isRequired,\r\n    payForOrder: PropTypes.func.isRequired,\r\n    selectedFlight: PropTypes.object.isRequired,\r\n    returnSelectedFlight: PropTypes.object.isRequired,\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    localStorage.setItem('payment', JSON.stringify(userRequest));\r\n    const { adult, child, infant } = userRequest;\r\n    const passengersAmount = adult + child + infant;\r\n    const flights = userRequest.twoWayRequest ? [selectedFlight, returnSelectedFlight] : [selectedFlight];\r\n    const orders = flights.map(flight => ({\r\n      userId: localStorage.getItem('id'),\r\n      fromCountry: flight.fromCountry,\r\n      toCountry: flight.toCountry,\r\n      departureDate: flight.date,\r\n      startTime: flight.startTime,\r\n      endTime: flight.endTime,\r\n      passengersAmount,\r\n      selectedFlight: flight.id,\r\n      passengersInfo: flight.passengersInfo,\r\n    }));\r\n\r\n    payForOrder(orders);\r\n\r\n    history.push('/payment-success');\r\n  };\r\n\r\n  const months = [{ _id: 1, name: 1 }, { _id: 2, name: 2 }, { _id: 3, name: 3 }, { _id: 4, name: 4 }, { _id: 5, name: 5 }, { _id: 6, name: 6 }, { _id: 7, name: 7 }, { _id: 8, name: 8 }, { _id: 9, name: 9 }, { _id: 10, name: 10 }, { _id: 11, name: 11 }, { _id: 12, name: 12 }];\r\n  const years = [{ _id: 19, name: 19 }, { _id: 20, name: 20 }, { _id: 21, name: 21 }, { _id: 22, name: 22 }, { _id: 23, name: 23 }, { _id: 24, name: 24 }, { _id: 25, name: 25 }, { _id: 26, name: 26 }, { _id: 27, name: 27 }, { _id: 28, name: 28 }];\r\n\r\n  const normalizeCardNumber = (value) => {\r\n    if (!value) return value;\r\n    const onlyNums = value.replace(/[^\\d]/g, '');\r\n    if (onlyNums.length <= 3) return onlyNums;\r\n    if (onlyNums.length <= 7) return `${onlyNums.slice(0, 4)} ${onlyNums.slice(4, 8)}`;\r\n    if (onlyNums.length <= 11) return `${onlyNums.slice(0, 4)} ${onlyNums.slice(4, 8)} ${onlyNums.slice(8, 12)}`;\r\n    return `${onlyNums.slice(0, 4)} ${onlyNums.slice(4, 8)} ${onlyNums.slice(8, 12)} ${onlyNums.slice(12, 16)}`;\r\n  };\r\n\r\n  const normalizeCode = (value) => {\r\n    if (!value) return value;\r\n    const onlyNums = value.replace(/[^\\d]/g, '');\r\n    if (onlyNums.length <= 3) return onlyNums;\r\n    return `${onlyNums.slice(0, 3)}`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <HorizontalStepper activeStep={3} />\r\n      <section className=\"payment\">\r\n        <h1 className=\"payment__header\">credit card</h1>\r\n        <section className=\"payment__cards\">\r\n          <span className=\"payment__text\">Accepted cards:</span>\r\n          <FaCcVisa className=\"payment__cards_visa\" />\r\n          <FaCcMastercard className=\"payment__cards_mastercard\" />\r\n        </section>\r\n\r\n        <Form\r\n          onSubmit={onSubmit}\r\n          validate={validate}\r\n          render={({ handleSubmit }) => (\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"payment-card\">\r\n                <div className=\"payment-card__field-wrapper\">\r\n                  <FaRegCreditCard className=\"payment-card__icon\" />\r\n                  <Field\r\n                    name=\"number\"\r\n                    label=\"Card number\"\r\n                    type=\"text\"\r\n                    parse={normalizeCardNumber}\r\n                    className=\"payment-card__field\"\r\n                    component={TextField}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"payment-card__field-wrapper\">\r\n                  <FaUser className=\"payment-card__icon\" />\r\n                  <Field\r\n                    name=\"name\"\r\n                    label=\"Name on card\"\r\n                    className=\"payment-card__field\"\r\n                    component={TextField}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"wrapper\">\r\n                  <div className=\"payment-card__field-wrapper\">\r\n                    <FaRegClock className=\"payment-card__icon\" />\r\n                    <Field\r\n                      id=\"month\"\r\n                      name=\"month\"\r\n                      label=\"mm\"\r\n                      className=\"payment-card__date payment-card__date_month\"\r\n                      component={SimpleSelect}\r\n                      items={months}\r\n                    />\r\n                    <Field\r\n                      id=\"year\"\r\n                      name=\"year\"\r\n                      label=\"yy\"\r\n                      className=\"payment-card__date\"\r\n                      component={SimpleSelect}\r\n                      items={years}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"payment-card__field-wrapper\">\r\n                    <FaUnlock className=\"payment-card__lock-icon\" />\r\n                    <Field\r\n                      name=\"code\"\r\n                      label=\"CVC/CVV\"\r\n                      type=\"password\"\r\n                      parse={normalizeCode}\r\n                      className=\"payment-card__field payment-card__field_code\"\r\n                      component={TextField}\r\n                      variant=\"outlined\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"button payment__button\">Pay now</button>\r\n            </form>\r\n          )}\r\n        />\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  userRequest: state.user.requestInfo.request,\r\n  selectedFlight: state.user.selectedFlight,\r\n  returnSelectedFlight: state.user.returnSelectedFlight,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  payForOrder: userOrder => dispatch(payForOrder(userOrder)),\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(Payment);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from 'react-router';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport './index.scss';\r\nimport HorizontalStepper from '../stepper';\r\nimport { resetTicketsInfo } from '../../redux/search/tickets/actions';\r\nimport { resetSelectedFlightInfo } from '../../redux/user/selectedFlight/actions';\r\nimport { resetReturnSelectedFlightInfo } from '../../redux/user/returnSelectedFlight/actions';\r\nimport { resetOrdersInfo } from '../../redux/user/orders/actions';\r\nimport { resetUserInfo } from '../../redux/user/actions';\r\n\r\nfunction PaymentSuccess({\r\n  history,\r\n  selectedFlight,\r\n  returnSelectedFlight,\r\n  twoWayRequest,\r\n  resetTicketsInfo,\r\n  resetSelectedFlightInfo,\r\n  resetReturnSelectedFlightInfo,\r\n  resetOrdersInfo,\r\n  resetUserInfo,\r\n}) {\r\n  PaymentSuccess.propTypes = {\r\n    twoWayRequest: PropTypes.bool.isRequired,\r\n    selectedFlight: PropTypes.object.isRequired,\r\n    returnSelectedFlight: PropTypes.object.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n    resetTicketsInfo: PropTypes.func.isRequired,\r\n    resetSelectedFlightInfo: PropTypes.func.isRequired,\r\n    resetReturnSelectedFlightInfo: PropTypes.func.isRequired,\r\n    resetOrdersInfo: PropTypes.func.isRequired,\r\n    resetUserInfo: PropTypes.func.isRequired,\r\n  };\r\n\r\n  const flights = twoWayRequest ? [selectedFlight, returnSelectedFlight] : [selectedFlight];\r\n\r\n  const goToStartPage = () => {\r\n    resetTicketsInfo();\r\n    resetSelectedFlightInfo();\r\n    resetReturnSelectedFlightInfo();\r\n    resetOrdersInfo();\r\n    resetUserInfo();\r\n    history.push('/search');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"stepper-wrapper\">\r\n        <HorizontalStepper activeStep={5} />\r\n      </div>\r\n      <section className=\"tickets\">\r\n        {/* <div className=\"tickets-wrapper\"> */}\r\n        {/* <div className=\"\" */}\r\n          <div className={`tickets-wrapper ${twoWayRequest ? '' : 'one-way'}`}>\r\n            {flights.map(({\r\n              id, date, fromCountry, toCountry, startTime, endTime, passengersInfo,\r\n            }) => (\r\n              <section key={id} className=\"ticket\">\r\n                <div className=\"ticket__header\">Flight ticket</div>\r\n                <div className=\"ticket__departure-info\">\r\n                  <h1 className=\"ticket__destination\">{fromCountry} - {toCountry}</h1>\r\n                  <span className=\"ticket__time\">{moment(startTime).format('LT')} - {moment(endTime).format('LT')} , {moment(date).format('MMM Do, YYYY')}</span>\r\n                </div>\r\n                <div className=\"passengers-info\">\r\n                  <div className=\"passengers-info__header\">\r\n                    <span>passenger name</span>\r\n                    <span>seat</span>\r\n                  </div>\r\n                  {passengersInfo.map(({ firstname, lastname, selectedSeat }) => (\r\n                    <div key={selectedSeat} className=\"passengers-info__details\">\r\n                      <span className=\"passengers-info__name\">{firstname} {lastname}</span>\r\n                      <span className=\"passengers-info__seat\">{selectedSeat}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"ticket__footer\">\r\n                  <div className=\"ticket__barcode\" />\r\n                  {/* <img src=\"/assets/barcode.png\" className=\"ticket__barcode\" alt=\"code\" /> */}\r\n                  {/* <button type=\"button\" className=\"ticket__print-button\" onClick={() => window.print()}>PRINT TICKET</button> */}\r\n                </div>\r\n              </section>\r\n            ))}\r\n          </div>\r\n          <div className=\"buttons-wrapper\">\r\n            <button type=\"button\" className=\"button\" onClick={goToStartPage}>to start</button>\r\n            <button type=\"button\" className=\"button\" onClick={() => window.print()}>PRINT TICKET</button>\r\n          </div>\r\n        \r\n      </section>\r\n    </>\r\n  );\r\n}\r\nconst mapStateToProps = state => ({\r\n  twoWayRequest: state.user.requestInfo.request.twoWayRequest,\r\n  selectedFlight: state.user.selectedFlight,\r\n  returnSelectedFlight: state.user.returnSelectedFlight,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  resetTicketsInfo: () => dispatch(resetTicketsInfo()),\r\n  resetSelectedFlightInfo: () => dispatch(resetSelectedFlightInfo()),\r\n  resetReturnSelectedFlightInfo: () => dispatch(resetReturnSelectedFlightInfo()),\r\n  resetOrdersInfo: () => dispatch(resetOrdersInfo()),\r\n  resetUserInfo: () => dispatch(resetUserInfo()),\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(PaymentSuccess);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport './index.scss';\r\n\r\nclass ListItem extends React.Component {\r\n  static propTypes = {\r\n    order: PropTypes.object.isRequired,\r\n  };\r\n\r\n  state = {\r\n    isOpened: false,\r\n  }\r\n\r\n  toggleDetails = () => this.setState(state => ({ isOpened: !state.isOpened }));\r\n\r\n  render() {\r\n    const { order } = this.props;\r\n    return (\r\n      <li className=\"list-item\">\r\n        <div className=\"list-item__header\" onClick={this.toggleDetails}>\r\n          <div className=\"list-item__header-wrapper\">\r\n            <span className=\"list-item__destination\">{order.fromCountry} - {order.toCountry}</span>\r\n            <div className=\"list-item__departure\">\r\n              <span className=\"list-item__departure_date\">{moment(order.departureDate).format('LL')}</span>\r\n              <span className=\"list-item__departure_time\">{moment(order.startTime).format('LT')} - {moment(order.endTime).format('LT')}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.isOpened && (\r\n          <div className=\"list-item__details\">\r\n            <table className=\"list-item__table\">\r\n              <tbody>\r\n                <tr className=\"list-item__table-row list-item__table-row_head\">\r\n                  <th className=\"list-item__table-th\">#</th>\r\n                  <th className=\"list-item__table-th\">passenger name</th>\r\n                  <th className=\"list-item__table-th\">luggage</th>\r\n                  <th className=\"list-item__table-th\">seat</th>\r\n                </tr>\r\n                {order.passengersInfo.map(({ firstname, lastname, luggageKg, selectedSeat }, index) => (\r\n                  <tr className=\"list-item__table-row\" key={luggageKg + index}>\r\n                    <td className=\"list-item__table-td\">{index + 1}</td>\r\n                    <td className=\"list-item__table-td\">{firstname} {lastname}</td>\r\n                    <td className=\"list-item__table-td\">{luggageKg} kg</td>\r\n                    <td className=\"list-item__table-td\">{selectedSeat}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { fetchUserOrdersData } from '../../redux/user/orders/actions';\r\nimport ListItem from './list-item/index';\r\nimport './index.scss';\r\n\r\nclass OrdersHistory extends React.Component {\r\n  static propTypes = {\r\n    fetchUserOrdersData: PropTypes.func.isRequired,\r\n    userOrders: PropTypes.array.isRequired,\r\n  };\r\n\r\n  componentDidMount = () => this.props.fetchUserOrdersData(new Date(), 'future');\r\n\r\n  getPastOrders = () => this.props.fetchUserOrdersData(new Date(), 'past');\r\n\r\n  getFutureOrders = () => this.props.fetchUserOrdersData(new Date(), 'future');\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"orders-history\">\r\n        <div className=\"orders-history__filter-buttons\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"button orders-history__filter-button\"\r\n            onClick={this.getFutureOrders}\r\n          >\r\n            Future\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"button orders-history__filter-button\"\r\n            onClick={this.getPastOrders}\r\n          >\r\n            Past\r\n          </button>\r\n        </div>\r\n\r\n        <ul className=\"orders-history__list\">\r\n          {this.props.userOrders.map((order, index) => (\r\n            <ListItem order={order} key={index} />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  userOrders: state.user.ordersInfo.orders,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchUserOrdersData: (date, type) => dispatch(fetchUserOrdersData(date, type)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OrdersHistory);\r\n","import axios from 'axios';\r\nimport urls from './urls';\r\n\r\nconst UserRouteGuard = {\r\n  shouldRoute: () => {\r\n    const token = localStorage.getItem('token');\r\n\r\n    if (!token) return Promise.resolve(false);\r\n    return axios.post(urls.checkAuthentication, null, {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.data) return Promise.resolve(true);\r\n        return Promise.resolve(false);\r\n      })\r\n      .catch(error => localStorage.setItem('error', JSON.stringify(error)));\r\n  },\r\n};\r\n\r\nexport default UserRouteGuard;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './index.scss';\r\n\r\nexport default function NotFoundPage() {\r\n  return (\r\n    <div className=\"not-found-page__background\">\r\n      <div className=\"not-found-page\">\r\n        <h1 className=\"not-found-page__main-header\">\r\n          Page not found\r\n        </h1>\r\n        <h3 className=\"not-found-page___secondary-header\">\r\n          We're sorry, we couldn't find the page you requested.\r\n        </h3>\r\n        <br />\r\n        <br />\r\n        <h1 className=\"not-found-page__proposal\">\r\n          You can try to find something\r\n          <Link to=\"/search\" className=\"not-found-page__proposal-link\">\r\n            here\r\n          </Link>\r\n        </h1>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\nimport { removeSnackbar } from '../../redux/notifier/actions';\r\n\r\nclass Notifier extends React.Component {\r\n  static propTypes = {\r\n    notifications: PropTypes.array.isRequired,\r\n    enqueueSnackbar: PropTypes.func.isRequired,\r\n    removeSB: PropTypes.func.isRequired,\r\n  };\r\n\r\n  displayed = [];\r\n\r\n  shouldComponentUpdate({ notifications: newSnacks = [] }) {\r\n    const { notifications: currentSnacks } = this.props;\r\n    let notExists = false;\r\n    for (let i = 0; i < newSnacks.length; i += 1) {\r\n      if (notExists) continue;\r\n      notExists = notExists || !currentSnacks.filter(({ key }) => newSnacks[i].key === key).length;\r\n    }\r\n    return notExists;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { notifications = [] } = this.props;\r\n\r\n    notifications.forEach((notification) => {\r\n      if (this.displayed.includes(notification.key)) return;\r\n      this.props.enqueueSnackbar(notification.message, notification.options);\r\n      this.storeDisplayed(notification.key);\r\n      this.props.removeSB(notification.key);\r\n    });\r\n  }\r\n\r\n  storeDisplayed = (id) => {\r\n    this.displayed = [...this.displayed, id];\r\n  };\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  notifications: state.notifications.notifications,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  removeSB: obj => dispatch(removeSnackbar(obj)),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(withSnackbar(Notifier));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { SecureRoute } from 'react-route-guard';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport configureStore from './redux/configureStore';\r\n\r\nimport './reset.scss';\r\nimport './index.scss';\r\n\r\nimport Header from './components/header';\r\nimport FlightsList from './components/flights-list';\r\nimport Login from './components/login';\r\nimport Register from './components/register';\r\nimport Search from './components/search';\r\nimport PassengersCounters from './components/passengers-counters';\r\nimport PassengersList from './components/passengers-list';\r\nimport SeatsChoice from './components/passengers-seats';\r\nimport OrderDetails from './components/order-details';\r\nimport Payment from './components/payment';\r\nimport PaymentSuccess from './components/payment-success';\r\nimport OrdersHistory from './components/orders-history';\r\nimport UserRouteGuard from './auth-service';\r\nimport NotFoundPage from './components/not-found';\r\nimport Notifier from './components/notifier';\r\n\r\n// const store = configureStore();\r\nconst { store, persistor } = configureStore();\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <div>\r\n          <Header />\r\n          <Notifier />\r\n          <Switch>\r\n            <Route path=\"/search\" component={Search} />\r\n            <Route path=\"/passengers-counters\" component={PassengersCounters} />\r\n            <Route path=\"/flights-list\" component={FlightsList} />\r\n            <SecureRoute path=\"/passengers-list\" component={PassengersList} routeGuard={UserRouteGuard} redirectToPathWhenFail=\"/login\" />\r\n            <SecureRoute path=\"/passengers-seats\" component={SeatsChoice} routeGuard={UserRouteGuard} redirectToPathWhenFail=\"/login\" />\r\n            <SecureRoute path=\"/order-details\" component={OrderDetails} routeGuard={UserRouteGuard} redirectToPathWhenFail=\"/login\" />\r\n            <SecureRoute path=\"/payment\" component={Payment} routeGuard={UserRouteGuard} redirectToPathWhenFail=\"/login\" />\r\n            <SecureRoute path=\"/payment-success\" component={PaymentSuccess} routeGuard={UserRouteGuard} redirectToPathWhenFail=\"/login\" />\r\n            <SecureRoute path=\"/orders-history\" component={OrdersHistory} routeGuard={UserRouteGuard} redirectToPathWhenFail=\"/login\" />\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/register\" component={Register} />\r\n            <Route component={NotFoundPage} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <SnackbarProvider>\r\n        <App />\r\n      </SnackbarProvider>\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}